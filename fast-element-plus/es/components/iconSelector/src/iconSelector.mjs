import{isVNode as e,defineComponent as o,reactive as l,computed as a,createVNode as s,createTextVNode as c}from"vue";import{ElPopover as t,ElScrollbar as i,ElInput as n,ElIcon as r}from"element-plus";import*as p from"@element-plus/icons-vue";import{RefreshRight as u,ChromeFilled as m}from"@element-plus/icons-vue";import{FaIcon as d}from"../../icon/index.mjs";import f from"@fast-element-plus/icons-vue";import{withDefineType as v,useRender as b,useExpose as h,definePropType as _}from"@fast-china/utils";import{isString as V,isNull as y}from"lodash-unified";const k=/* @__PURE__ */o({name:"FaIconSelector",props:{modelValue:String,customIcons:_(Array)},emits:{"update:modelValue":e=>V(e)||y(e),change:e=>V(e)||y(e)},setup(o,{attrs:_,slots:V,emit:y,expose:k}){const x=l({value:v(),searchValue:v(),iconType:v("ele"),popoverVisible:!1,iconNames:v(Object.keys(p)),renderIconNames:a(()=>x.searchValue?x.iconNames.filter(e=>-1!==e.toLowerCase().indexOf(x.searchValue.toLowerCase())):x.iconNames)}),N=e=>{switch(x.iconType=e,x.iconNames=[],e){case"ele":x.iconNames=Object.keys(p).map(e=>`el-icon-${e}`);break;case"fastEle":x.iconNames=Object.keys(f).map(e=>`fa-icon-${e}`);break;case"local":x.iconNames=o.customIcons}},C=()=>{x.value=null,x.searchValue=null,y("update:modelValue",null),y("change",null)};return b(()=>s(t,{popperClass:"fa-icon-selector-popover",visible:x.popoverVisible,width:"auto",trigger:"click",showArrow:!1,showAfter:0,hideAfter:0},{reference:()=>s(n,{modelValue:x.searchValue,"onUpdate:modelValue":e=>x.searchValue=e,placeholder:"搜索图标"},{prepend:()=>s(r,null,{default:()=>[s(m,null,null)]}),append:()=>s(r,{onClick:C},{default:()=>[s(u,null,null)]})}),default:()=>{let o;return s("div",{class:"fa-icon-selector-popover__box"},[s("div",{class:"fa-icon-selector-popover__box-header"},[s("div",{class:"fa-icon-selector-popover__box-header__title"},[c("请选择图标")]),s("div",{class:"fa-icon-selector-popover__box-header__tab"},[s("span",{class:{"is-active":"ele"===x.iconType},title:"Element Plus 图标",onClick:()=>N("ele")},[c("ele")]),s("span",{class:{"is-active":"fastEle"===x.iconType},title:"Fast Element Plus 图标",onClick:()=>N("fastEle")},[c("fastEle")]),s("span",{class:{"is-active":"local"===x.iconType},title:"本地图标",onClick:()=>N("local")},[c("local")])])]),s("div",{class:"fa-icon-selector-popover__box-body"},[s(i,null,(l=o=x.renderIconNames.map(e=>s("div",{class:"fa-icon-selector-popover__box-body__item",title:e,onClick:()=>{return o=e,x.popoverVisible=!1,x.value=o,x.searchValue="",y("update:modelValue",o),void y("change",o);var o}},[s(d,{name:e},null)])),"function"==typeof l||"[object Object]"===Object.prototype.toString.call(l)&&!e(l)?o:{default:()=>[o]}))])]);var l}})),h(k,{iconType:x.iconType})}});export{k as default};
//# sourceMappingURL=iconSelector.mjs.map
