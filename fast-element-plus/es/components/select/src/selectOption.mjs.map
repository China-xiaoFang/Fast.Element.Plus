{"version":3,"file":"selectOption.mjs","sources":["../../../../../packages/components/select/src/selectOption.tsx"],"sourcesContent":["import { Fragment, computed, defineComponent, h, reactive, resolveComponent } from \"vue\";\nimport { ElOption, ElOptionGroup } from \"element-plus\";\nimport { definePropType, makeSlots, useRender } from \"@fast-china/utils\";\nimport { isUndefined } from \"lodash-unified\";\nimport type { ElSelectorOutput } from \"./select.type\";\n\nexport default defineComponent({\n\tname: \"FaSelectOption\",\n\tprops: {\n\t\t/** @description 绑定值，优先级比 data 高 */\n\t\tvalue: {\n\t\t\ttype: definePropType<string | number | boolean | object>([String, Number, Boolean, Object]),\n\t\t\tdefault: undefined,\n\t\t},\n\t\t/** @description 显示值，优先级比 data 高 */\n\t\tlabel: String,\n\t\t/** @description 禁用值，优先级比 data 高 */\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: undefined,\n\t\t},\n\t\t/** @description 子节点，优先级比 data 高 */\n\t\tchildren: {\n\t\t\ttype: definePropType<ElSelectorOutput[]>(Array),\n\t\t},\n\t\t/** @description 下拉框数据 */\n\t\tdata: {\n\t\t\ttype: definePropType<ElSelectorOutput>(Object),\n\t\t\tdefault: () => ({}) as ElSelectorOutput,\n\t\t},\n\t\t/** @description 更多细节，只有使用slot的时候有用 */\n\t\tmoreDetail: Boolean,\n\t},\n\tslots: makeSlots<{\n\t\t/** @description 默认内容插槽 */\n\t\tdefault: ElSelectorOutput | any;\n\t}>(),\n\tsetup(props, { slots }) {\n\t\tconst state = reactive({\n\t\t\tvalue: computed(() => (isUndefined(props.value) ? props.data.value : props.value)),\n\t\t\tlabel: computed(() => (isUndefined(props.label) ? props.data.label : props.label)),\n\t\t\tdisabled: computed(() => (isUndefined(props.disabled) ? props.data.disabled : props.disabled) ?? false),\n\t\t\tchildren: computed(() => (isUndefined(props.children) ? props.data.children : props.children) ?? []),\n\t\t});\n\n\t\tuseRender(() => (\n\t\t\t<Fragment>\n\t\t\t\t{state.children.length > 0 ? (\n\t\t\t\t\t<ElOptionGroup label={state.label} disabled={state.disabled}>\n\t\t\t\t\t\t{state.children.map((item) =>\n\t\t\t\t\t\t\th(\n\t\t\t\t\t\t\t\tresolveComponent(\"FaSelectOption\"),\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tmoreDetail: props.moreDetail,\n\t\t\t\t\t\t\t\t\tdata: item,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tslots\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)}\n\t\t\t\t\t</ElOptionGroup>\n\t\t\t\t) : (\n\t\t\t\t\t<ElOption\n\t\t\t\t\t\tclass={{ \"fa-select-page-dropdown__selector__more-detail\": props.moreDetail && slots.default }}\n\t\t\t\t\t\tvalue={state.value}\n\t\t\t\t\t\tlabel={state.label}\n\t\t\t\t\t\tdisabled={state.disabled}\n\t\t\t\t\t>\n\t\t\t\t\t\t{slots.default && slots.default(props.data)}\n\t\t\t\t\t</ElOption>\n\t\t\t\t)}\n\t\t\t</Fragment>\n\t\t));\n\t},\n});\n"],"names":["_isSlot","s","Object","prototype","toString","call","_isVNode","name","props","value","type","definePropType","String","Number","Boolean","default","undefined","label","disabled","children","Array","data","moreDetail","slots","makeSlots","setup","state","reactive","computed","isUndefined","useRender","_slot","_createVNode","_Fragment","length","ElOptionGroup","map","item","h","resolveComponent","ElOption"],"mappings":";;;;AAG6C,SAAAA,QAAAC,GAAA;AAAA,SAAA,OAAAA,MAAA,cAAAC,OAAAC,UAAAC,SAAAC,KAAAJ,CAAA,MAAA,qBAAA,CAAAK,QAAAL,CAAA;AAAA;AAG7C,MAAA,+CAA+B;AAAA,EAC9BM,MAAM;AAAA,EACNC,OAAO;AAAA;AAAA,IAENC,OAAO;AAAA,MACNC,MAAMC,eAAmD,CAACC,QAAQC,QAAQC,SAASZ,MAAM,CAAC;AAAA,MAC1Fa,SAASC;AAAAA;;IAGVC,OAAOL;AAAAA;AAAAA,IAEPM,UAAU;AAAA,MACTR,MAAMI;AAAAA,MACNC,SAASC;AAAAA;;IAGVG,UAAU;AAAA,MACTT,MAAMC,eAAmCS,KAAK;AAAA;;IAG/CC,MAAM;AAAA,MACLX,MAAMC,eAAiCT,MAAM;AAAA,MAC7Ca,SAASA,OAAO,CAAA;AAAA;;IAGjBO,YAAYR;AAAAA;EAEbS,OAAOC,UAAS;AAAA,EAIhBC,MAAMjB,OAAO;AAAA,IAAEe;AAAAA,EAAM,GAAG;AACvB,UAAMG,QAAQC,SAAS;AAAA,MACtBlB,OAAOmB,SAAS,MAAOC,YAAYrB,MAAMC,KAAK,IAAID,MAAMa,KAAKZ,QAAQD,MAAMC,KAAM;AAAA,MACjFQ,OAAOW,SAAS,MAAOC,YAAYrB,MAAMS,KAAK,IAAIT,MAAMa,KAAKJ,QAAQT,MAAMS,KAAM;AAAA,MACjFC,UAAUU,SAAS,OAAOC,YAAYrB,MAAMU,QAAQ,IAAIV,MAAMa,KAAKH,WAAWV,MAAMU,aAAa,KAAK;AAAA,MACtGC,UAAUS,SAAS,OAAOC,YAAYrB,MAAMW,QAAQ,IAAIX,MAAMa,KAAKF,WAAWX,MAAMW,aAAa,CAAA,CAAE;AAAA,IACpG,CAAC;AAEDW,cAAU,MAAA;AAAA,UAAAC;AAAA,aAAAC,YAAAC,UAAA,MAAA,CAEPP,MAAMP,SAASe,SAAS,IAACF,YAAAG,eAAA;AAAA,QAAA,SACHT,MAAMT;AAAAA,QAAK,YAAYS,MAAMR;AAAAA,MAAQ,GAAAlB,QAAA+B,QACzDL,MAAMP,SAASiB,IAAKC,UACpBC,EACCC,iBAAiB,gBAAgB,GACjC;AAAA,QACCjB,YAAYd,MAAMc;AAAAA,QAClBD,MAAMgB;AAAAA,MACP,GACAd,KACD,CACD,CAAC,IAAAQ,QAAA;AAAA,QAAAhB,SAAAA,MAAA,CAAAgB,KAAA;AAAA,OAAA,IAAAC,YAAAQ,UAAA;AAAA,QAAA,SAIM;AAAA,UAAE,kDAAkDhC,MAAMc,cAAcC,MAAMR;AAAAA;QAAS,SACvFW,MAAMjB;AAAAA,QAAK,SACXiB,MAAMT;AAAAA,QAAK,YACRS,MAAMR;AAAAA,MAAQ,GAAA;AAAA,QAAAH,SAAAA,MAAA,CAEvBQ,MAAMR,WAAWQ,MAAMR,QAAQP,MAAMa,IAAI,CAAC;AAAA,OAAA,CAE5C,CAAA;AAAA,IAAA,CAEF;AAAA,EACF;AACD,CAAC;"}