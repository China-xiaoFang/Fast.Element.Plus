{"version":3,"file":"selectOption.mjs","sources":["../../../../../packages/components/select/src/selectOption.tsx"],"sourcesContent":["import { Fragment, computed, defineComponent, h, reactive, resolveComponent } from \"vue\";\nimport { ElOption, ElOptionGroup } from \"element-plus\";\nimport { definePropType, makeSlots, useRender } from \"@fast-china/utils\";\nimport { isUndefined } from \"lodash-unified\";\nimport type { ElSelectorOutput } from \"./select.type\";\n\nexport default defineComponent({\n\tname: \"FaSelectOption\",\n\tprops: {\n\t\t/** @description 绑定值，优先级比 data 高 */\n\t\tvalue: {\n\t\t\ttype: definePropType<string | number | boolean | object>([String, Number, Boolean, Object]),\n\t\t\tdefault: undefined,\n\t\t},\n\t\t/** @description 显示值，优先级比 data 高 */\n\t\tlabel: String,\n\t\t/** @description 禁用值，优先级比 data 高 */\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: undefined,\n\t\t},\n\t\t/** @description 子节点，优先级比 data 高 */\n\t\tchildren: {\n\t\t\ttype: definePropType<ElSelectorOutput[]>(Array),\n\t\t},\n\t\t/** @description 下拉框数据 */\n\t\tdata: {\n\t\t\ttype: definePropType<ElSelectorOutput>(Object),\n\t\t\tdefault: () => ({}) as ElSelectorOutput,\n\t\t},\n\t\t/** @description 更多细节，只有使用slot的时候有用 */\n\t\tmoreDetail: Boolean,\n\t},\n\tslots: makeSlots<{\n\t\t/** @description 默认内容插槽 */\n\t\tdefault: ElSelectorOutput | any;\n\t}>(),\n\tsetup(props, { attrs, slots, emit, expose }) {\n\t\tconst state = reactive({\n\t\t\tvalue: computed(() => (isUndefined(props.value) ? props.data.value : props.value)),\n\t\t\tlabel: computed(() => (isUndefined(props.label) ? props.data.label : props.label)),\n\t\t\tdisabled: computed(() => (isUndefined(props.disabled) ? props.data.disabled : props.disabled) ?? false),\n\t\t\tchildren: computed(() => (isUndefined(props.children) ? props.data.children : props.children) ?? []),\n\t\t});\n\n\t\tuseRender(() => (\n\t\t\t<Fragment>\n\t\t\t\t{state.children.length > 0 ? (\n\t\t\t\t\t<ElOptionGroup label={state.label} disabled={state.disabled}>\n\t\t\t\t\t\t{state.children.map((item) =>\n\t\t\t\t\t\t\th(\n\t\t\t\t\t\t\t\tresolveComponent(\"FaSelectOption\"),\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tmoreDetail: props.moreDetail,\n\t\t\t\t\t\t\t\t\tdata: item,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tslots\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)}\n\t\t\t\t\t</ElOptionGroup>\n\t\t\t\t) : (\n\t\t\t\t\t<ElOption\n\t\t\t\t\t\tclass={{ \"fa-select-dropdown__selector__more-detail\": props.moreDetail && slots.default }}\n\t\t\t\t\t\tvalue={state.value}\n\t\t\t\t\t\tlabel={state.label}\n\t\t\t\t\t\tdisabled={state.disabled}\n\t\t\t\t\t>\n\t\t\t\t\t\t{slots.default && slots.default(props.data)}\n\t\t\t\t\t</ElOption>\n\t\t\t\t)}\n\t\t\t</Fragment>\n\t\t));\n\t},\n});\n"],"names":["SelectOption","name","props","value","type","definePropType","String","Number","Boolean","Object","default","undefined","label","disabled","children","Array","data","moreDetail","slots","makeSlots","setup","attrs","emit","expose","state","reactive","computed","isUndefined","useRender","_slot","_createVNode","_Fragment","length","ElOptionGroup","s","map","item","h","resolveComponent","prototype","toString","call","_isVNode","ElOption","class"],"mappings":"oUAMA,MAAAA,mBAA+B,CAC9BC,KAAM,iBACNC,MAAO,CAENC,MAAO,CACNC,KAAMC,EAAmD,CAACC,OAAQC,OAAQC,QAASC,SACnFC,aAASC,GAGVC,MAAON,OAEPO,SAAU,CACTT,KAAMI,QACNE,aAASC,GAGVG,SAAU,CACTV,KAAMC,EAAmCU,QAG1CC,KAAM,CACLZ,KAAMC,EAAiCI,QACvCC,QAASA,MAAO,IAGjBO,WAAYT,SAEbU,MAAOC,IAIPC,KAAAA,CAAMlB,GAAOmB,MAAEA,EAAAA,MAAOH,EAAAA,KAAOI,EAAAA,OAAMC,IAClC,MAAMC,EAAQC,EAAS,CACtBtB,MAAOuB,EAAS,IAAOC,EAAYzB,EAAMC,OAASD,EAAMc,KAAKb,MAAQD,EAAMC,OAC3ES,MAAOc,EAAS,IAAOC,EAAYzB,EAAMU,OAASV,EAAMc,KAAKJ,MAAQV,EAAMU,OAC3EC,SAAUa,EAAS,KAAOC,EAAYzB,EAAMW,UAAYX,EAAMc,KAAKH,SAAWX,EAAMW,YAAa,GACjGC,SAAUY,EAAS,KAAOC,EAAYzB,EAAMY,UAAYZ,EAAMc,KAAKF,SAAWZ,EAAMY,WAAa,MAGlGc,EAAU,KAAA,IAAAC,EAAA,OAAAC,EAAAC,EAAA,KAAA,CAEPP,EAAMV,SAASkB,OAAS,EAACF,EAAAG,EAAA,CAAArB,MACHY,EAAMZ,MAAKC,SAAYW,EAAMX,WA7CXqB,EA6CmBL,EACzDL,EAAMV,SAASqB,IAAKC,GACpBC,EACCC,EAAiB,kBACjB,CACCrB,WAAYf,EAAMe,WAClBD,KAAMoB,GAEPlB,IArDqC,mBAAAgB,GAAA,oBAAAzB,OAAA8B,UAAAC,SAAAC,KAAAP,KAAAQ,EAAAR,GAuDtCL,EAAA,CAAAnB,QAAAA,IAAA,CAAAmB,MAAAC,EAAAa,EAAA,CAAAC,MAIM,CAAE,4CAA6C1C,EAAMe,YAAcC,EAAMR,SAASP,MAClFqB,EAAMrB,MAAKS,MACXY,EAAMZ,MAAKC,SACRW,EAAMX,UAAQ,CAAAH,QAAAA,IAAA,CAEvBQ,EAAMR,SAAWQ,EAAMR,QAAQR,EAAMc,WAhEC,IAAAkB,GAqE5C"}