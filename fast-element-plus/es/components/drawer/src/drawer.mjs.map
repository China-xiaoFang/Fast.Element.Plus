{"version":3,"file":"drawer.mjs","sources":["../../../../../packages/components/drawer/src/drawer.tsx"],"sourcesContent":["import { Fragment, computed, defineComponent, nextTick, reactive, ref, watch } from \"vue\";\nimport { ElButton, ElDrawer, ElIcon, ElMessage, ElMessageBox, ElScrollbar, drawerEmits, drawerProps, useGlobalSize } from \"element-plus\";\nimport { Close, Eleme, FullScreen, Refresh } from \"@element-plus/icons-vue\";\nimport { FullScreenExit } from \"@fast-element-plus/icons-vue\";\nimport { consoleError, definePropType, execFunction, makeSlots, useExpose, useProps, useRender } from \"@fast-china/utils\";\nimport { isBoolean } from \"lodash-unified\";\nimport type { VNode } from \"vue\";\n\nexport const faDrawerProps = {\n\t...drawerProps,\n\t/** @description whether to append Dialog itself to body. A nested Dialog should have this attribute set to `true` */\n\tappendToBody: {\n\t\ttype: Boolean,\n\t\tdefault: true,\n\t},\n\t/** @description enable dragging feature for Dialog */\n\tdraggable: {\n\t\ttype: Boolean,\n\t\tdefault: true,\n\t},\n\t/** @description destroy elements in Dialog when closed */\n\tdestroyOnClose: {\n\t\ttype: Boolean,\n\t\tdefault: true,\n\t},\n\t/** @description 显示刷新按钮 */\n\tshowRefresh: {\n\t\ttype: Boolean,\n\t\tdefault: true,\n\t},\n\t/** @description 显示全屏图标 */\n\tshowFullscreen: {\n\t\ttype: Boolean,\n\t\tdefault: true,\n\t},\n\t/** @description 显示关闭按钮 */\n\tshowCloseButton: {\n\t\ttype: Boolean,\n\t\tdefault: true,\n\t},\n\t/** @description 显示确认按钮 */\n\tshowConfirmButton: {\n\t\ttype: Boolean,\n\t\tdefault: true,\n\t},\n\t/** @description 禁用确认按钮 */\n\tdisabledConfirmButton: Boolean,\n\t/** @description 关闭按钮文字，默认取消 */\n\tcloseButtonText: {\n\t\ttype: String,\n\t\tdefault: \"取消\",\n\t},\n\t/** @description 确认按钮文字，默认确认 */\n\tconfirmButtonText: {\n\t\ttype: String,\n\t\tdefault: \"确认\",\n\t},\n\t/** @description 隐藏底部操作 */\n\thideFooter: Boolean,\n\t/** @description 显示关闭回调 */\n\tshowBeforeClose: Boolean,\n\t/** @description 打开之后 */\n\tafterOpen: {\n\t\ttype: definePropType<() => void>(Function),\n\t},\n};\n\nexport const faDrawerEmits = {\n\t...drawerEmits,\n\t/** @description v-model 回调 */\n\t\"update:modelValue\": (value: boolean): boolean => isBoolean(value),\n\t/** @description 确认按钮点击事件 */\n\tconfirmClick: (): boolean => true,\n};\n\ntype FaDrawerSlots = {\n\t/** @description 默认内容插槽 */\n\tdefault: { loading: boolean };\n\t/** @description 头部插槽 */\n\theader: { loading: boolean; close: () => void };\n\t/** @description 底部插槽 */\n\tfooter: { loading: boolean; close: () => void };\n};\n\nexport default defineComponent({\n\tname: \"FaDrawer\",\n\tprops: faDrawerProps,\n\temits: faDrawerEmits,\n\tslots: makeSlots<FaDrawerSlots>(),\n\tsetup(props, { attrs, slots, emit, expose }) {\n\t\tconst _globalSize = useGlobalSize();\n\n\t\tconst state = reactive({\n\t\t\tloading: false,\n\t\t\tvisible: false,\n\t\t\tfullscreen: false,\n\t\t\tsize: props.size ?? \"30%\",\n\t\t\tdragging: false,\n\t\t\trefreshing: false,\n\t\t});\n\n\t\tconst drawerRef = ref<InstanceType<typeof ElDrawer>>();\n\n\t\tlet cacheOpenFunction = undefined;\n\n\t\tconst handleOpen = (openFunction?: () => void | Promise<void>): void => {\n\t\t\tstate.visible = true;\n\t\t\tcacheOpenFunction = openFunction;\n\t\t\tnextTick(() => {\n\t\t\t\tstate.loading = true;\n\t\t\t\texecFunction(props.afterOpen ?? openFunction)\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\temit(\"open\");\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\tconsoleError(\"FaDrawer\", error);\n\t\t\t\t\t\t// 自动关闭\n\t\t\t\t\t\tstate.visible = false;\n\t\t\t\t\t})\n\t\t\t\t\t.finally(() => {\n\t\t\t\t\t\tstate.loading = false;\n\t\t\t\t\t});\n\t\t\t});\n\t\t};\n\n\t\tconst handleClose = (closeFunction?: () => void | Promise<void>): void => {\n\t\t\tstate.loading = true;\n\t\t\texecFunction(closeFunction)\n\t\t\t\t.then(() => {\n\t\t\t\t\temit(\"close\");\n\t\t\t\t\tstate.visible = false;\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tconsoleError(\"FaDrawer\", error);\n\t\t\t\t})\n\t\t\t\t.finally(() => {\n\t\t\t\t\tstate.loading = false;\n\t\t\t\t});\n\t\t};\n\n\t\tconst handleLoading = (loadingFunction: () => void | Promise<void>): void => {\n\t\t\tstate.loading = true;\n\t\t\texecFunction(loadingFunction)\n\t\t\t\t.then()\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tconsoleError(\"FaDrawer\", error);\n\t\t\t\t})\n\t\t\t\t.finally(() => {\n\t\t\t\t\tstate.loading = false;\n\t\t\t\t});\n\t\t};\n\n\t\tconst handleRefresh = (): void => {\n\t\t\tstate.refreshing = true;\n\t\t\tstate.loading = true;\n\t\t\tsetTimeout(() => {\n\t\t\t\tstate.refreshing = false;\n\t\t\t\thandleOpen(cacheOpenFunction);\n\t\t\t\tElMessage.success(\"刷新成功\");\n\t\t\t}, 500);\n\t\t};\n\n\t\tconst handleBeforeClose = (done: () => void): void => {\n\t\t\tif (state.loading) return;\n\t\t\t// 解决 image 预览摁下 ese 会关闭弹窗的问题\n\t\t\tif (document.querySelector(\".el-image-viewer__wrapper\")) return;\n\n\t\t\tconst newDone = (): void => {\n\t\t\t\texecFunction(props.beforeClose)\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\temit(\"close\");\n\t\t\t\t\t\tdone();\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\tconsoleError(\"FaDialog\", error);\n\t\t\t\t\t});\n\t\t\t};\n\n\t\t\tif (props.showBeforeClose) {\n\t\t\t\tElMessageBox.confirm(\"确定关闭？\", { type: \"warning\" }).then(() => {\n\t\t\t\t\tnewDone();\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tnewDone();\n\t\t\t}\n\t\t};\n\n\t\tconst handleFullscreen = (): void => {\n\t\t\tif (state.loading) return;\n\t\t\tstate.fullscreen = !state.fullscreen;\n\t\t};\n\n\t\tconst handleConfirmClick = (): void => {\n\t\t\tif (state.loading) return;\n\t\t\temit(\"confirmClick\");\n\t\t};\n\n\t\tconst handleCloseClick = (): void => {\n\t\t\tif (state.loading) return;\n\t\t\thandleClose();\n\t\t};\n\n\t\twatch(\n\t\t\t() => state.visible,\n\t\t\t(newValue) => {\n\t\t\t\temit(\"update:modelValue\", newValue);\n\t\t\t}\n\t\t);\n\n\t\t/**\n\t\t * 处理拖拽\n\t\t */\n\t\tconst handleDraggableMousedown = (): void => {\n\t\t\tdocument.onmousemove = (moveEvent: MouseEvent): void => {\n\t\t\t\t// 获取鼠标距离浏览器右边缘的距离\n\t\t\t\tlet realWidth = document.body.clientWidth - moveEvent.pageX;\n\t\t\t\tconst width20 = document.body.clientWidth * 0.2;\n\t\t\t\tconst width95 = document.body.clientWidth * 0.95;\n\t\t\t\t// 宽度不能大于浏览器宽度 95%，不能小于宽度的 20%\n\t\t\t\trealWidth = realWidth > width95 ? width95 : realWidth < width20 ? width20 : realWidth;\n\t\t\t\tstate.size = `${realWidth}px`;\n\t\t\t};\n\t\t\tdocument.onmouseup = (): void => {\n\t\t\t\tdocument.onmousemove = document.onmouseup = null;\n\t\t\t};\n\t\t};\n\n\t\tconst elDrawerProps = useProps(props, drawerProps, [\"modelValue\", \"size\", \"showClose\", \"beforeClose\"]);\n\n\t\tuseRender(() => (\n\t\t\t<ElDrawer\n\t\t\t\t{...elDrawerProps.value}\n\t\t\t\tref={drawerRef}\n\t\t\t\tclass={[\"fa-drawer\", `fa-drawer-${_globalSize.value}`, { \"fa-drawer__fullscreen\": state.fullscreen }]}\n\t\t\t\tvModel={state.visible}\n\t\t\t\tsize={state.size}\n\t\t\t\tshowClose={false}\n\t\t\t\tbeforeClose={handleBeforeClose}\n\t\t\t\tonOpened={() => emit(\"opened\")}\n\t\t\t\tonClosed={() => emit(\"closed\")}\n\t\t\t\tonOpenAutoFocus={() => emit(\"openAutoFocus\")}\n\t\t\t\tonCloseAutoFocus={() => emit(\"closeAutoFocus\")}\n\t\t\t>\n\t\t\t\t{{\n\t\t\t\t\theader: () => (\n\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t<div class=\"fa-drawer__header-title\">\n\t\t\t\t\t\t\t\t{props.title}\n\t\t\t\t\t\t\t\t{slots.header && slots.header({ loading: state.loading, close: handleCloseClick })}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{props.showRefresh && (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\ttitle=\"刷新\"\n\t\t\t\t\t\t\t\t\tclass={[\n\t\t\t\t\t\t\t\t\t\t\"fa-drawer__header-icon\",\n\t\t\t\t\t\t\t\t\t\tstate.loading ? \"fa__click__disabled fa__click__disabled__cursor \" : \"fa__hover__twinkle\",\n\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\tonClick={handleRefresh}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ElIcon class=\"icon\">\n\t\t\t\t\t\t\t\t\t\t<Refresh />\n\t\t\t\t\t\t\t\t\t</ElIcon>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{props.showFullscreen && (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\ttitle={state.fullscreen ? \"关闭全屏显示\" : \"全屏显示\"}\n\t\t\t\t\t\t\t\t\tclass={[\n\t\t\t\t\t\t\t\t\t\t\"fa-drawer__header-icon\",\n\t\t\t\t\t\t\t\t\t\tstate.loading ? \"fa__click__disabled fa__click__disabled__cursor \" : \"fa__hover__twinkle\",\n\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\tonClick={handleFullscreen}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ElIcon>{state.fullscreen ? <FullScreenExit /> : <FullScreen />}</ElIcon>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{props.showClose && (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\ttitle=\"关闭\"\n\t\t\t\t\t\t\t\t\tclass={[\n\t\t\t\t\t\t\t\t\t\t\"fa-drawer__header-icon\",\n\t\t\t\t\t\t\t\t\t\tstate.loading ? \"fa__click__disabled fa__click__disabled__cursor \" : \"fa__hover__twinkle\",\n\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\tonClick={handleCloseClick}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ElIcon class=\"icon\">\n\t\t\t\t\t\t\t\t\t\t<Close />\n\t\t\t\t\t\t\t\t\t</ElIcon>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t),\n\t\t\t\t\tdefault: () => (\n\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t{props.draggable && <div class=\"fa-drawer__draggable\" onmousedown={handleDraggableMousedown} />}\n\t\t\t\t\t\t\t<ElScrollbar vLoading={state.loading} element-loading-text=\"加载中...\">\n\t\t\t\t\t\t\t\t{!state.refreshing && slots.default && slots.default(state)}\n\t\t\t\t\t\t\t</ElScrollbar>\n\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t),\n\t\t\t\t\t...(!props.hideFooter && {\n\t\t\t\t\t\tfooter: (): VNode[] => (\n\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t{slots.footer && slots.footer({ loading: state.loading, close: handleCloseClick })}\n\t\t\t\t\t\t\t\t{props.showCloseButton && (\n\t\t\t\t\t\t\t\t\t<ElButton disabled={state.loading} onClick={handleCloseClick}>\n\t\t\t\t\t\t\t\t\t\t{props.closeButtonText}\n\t\t\t\t\t\t\t\t\t</ElButton>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{props.showConfirmButton && (\n\t\t\t\t\t\t\t\t\t<ElButton\n\t\t\t\t\t\t\t\t\t\tloading={state.loading}\n\t\t\t\t\t\t\t\t\t\tloadingIcon={Eleme}\n\t\t\t\t\t\t\t\t\t\tdisabled={props.disabledConfirmButton}\n\t\t\t\t\t\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t\t\t\t\t\tonClick={handleConfirmClick}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{state.loading ? \"加载中...\" : props.confirmButtonText}\n\t\t\t\t\t\t\t\t\t</ElButton>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t),\n\t\t\t\t\t}),\n\t\t\t\t}}\n\t\t\t</ElDrawer>\n\t\t));\n\n\t\treturn useExpose(expose, {\n\t\t\t/** @description 用于关闭 Drawer, 该方法会调用传入的 before-close 方法 */\n\t\t\thandleClose: computed(() => drawerRef.value?.handleClose),\n\t\t\t/** @description 进入动画后的回调 */\n\t\t\tafterEnter: computed(() => drawerRef.value?.afterEnter),\n\t\t\t/** @description 离开动画后的回调 */\n\t\t\tafterLeave: computed(() => drawerRef.value?.afterLeave),\n\t\t\t/** @description 加载状态 */\n\t\t\tloading: computed(() => state.loading),\n\t\t\t/** @description 是否显示 */\n\t\t\tvisible: computed(() => state.visible),\n\t\t\t/** @description 打开弹窗 */\n\t\t\topen: handleOpen,\n\t\t\t/** @description 关闭弹窗 */\n\t\t\tclose: handleClose,\n\t\t\t/** @description 刷新弹窗 */\n\t\t\trefresh: handleRefresh,\n\t\t\t/** @description 弹窗加载 */\n\t\t\tdoLoading: handleLoading,\n\t\t});\n\t},\n});\n"],"names":["faDrawerProps","drawerProps","appendToBody","type","Boolean","default","draggable","destroyOnClose","showRefresh","showFullscreen","showCloseButton","showConfirmButton","disabledConfirmButton","closeButtonText","String","confirmButtonText","hideFooter","showBeforeClose","afterOpen","definePropType","Function","faDrawerEmits","drawerEmits","value","isBoolean","confirmClick","name","props","emits","slots","makeSlots","setup","attrs","emit","expose","_globalSize","useGlobalSize","state","reactive","loading","visible","fullscreen","size","dragging","refreshing","drawerRef","ref","cacheOpenFunction","undefined","handleOpen","openFunction","nextTick","execFunction","then","catch","error","consoleError","finally","handleClose","closeFunction","handleLoading","loadingFunction","handleRefresh","setTimeout","ElMessage","success","handleBeforeClose","done","document","querySelector","newDone","beforeClose","ElMessageBox","confirm","handleFullscreen","handleConfirmClick","handleCloseClick","watch","newValue","handleDraggableMousedown","onmousemove","moveEvent","realWidth","body","clientWidth","pageX","width20","width95","onmouseup","elDrawerProps","useProps","useRender","_createVNode","ElDrawer","_mergeProps","$event","onOpened","onClosed","onOpenAutoFocus","onCloseAutoFocus","header","_Fragment","title","close","ElIcon","Refresh","FullScreenExit","FullScreen","showClose","Close","_withDirectives","ElScrollbar","_resolveDirective","footer","ElButton","Eleme","useExpose","computed","afterEnter","afterLeave","open","refresh","doLoading"],"mappings":"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"}