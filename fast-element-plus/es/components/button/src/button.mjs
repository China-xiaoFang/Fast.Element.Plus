import{defineComponent as o,reactive as e,ref as i,watch as a,createVNode as l,mergeProps as n,withModifiers as d,computed as t}from"vue";import{buttonProps as s,buttonEmits as u,ElButton as c}from"element-plus";import{Eleme as r}from"@element-plus/icons-vue";import"../../../hooks/index.mjs";import{definePropType as m,execFunction as g,consoleError as p,useProps as f,useRender as v,useExpose as h,makeSlots as b}from"@fast-china/utils";import{isFunction as k}from"lodash-unified";import{useOverlay as y}from"../../../hooks/use-overlay/index.mjs";const x={...s,loadingIcon:{type:m([String,Object,Function]),default:()=>r},disabledLoading:Boolean},L={...u,click:(o,e=()=>{})=>o instanceof MouseEvent&&k(e)},j=/* @__PURE__ */o({name:"FaButton",props:x,emits:L,slots:b(),setup(o,{attrs:u,slots:r,emit:m,expose:b}){const k=e({loading:!1}),x=i(),L=()=>{k.loading=!0,y.show(0)},j=()=>{k.loading=!1,y.hide()};a(()=>o.loading,e=>{o.disabledLoading||(e?L():j())},{immediate:!0});const B=f(o,s,["loading"]);return v(()=>l(c,n(B.value,{ref:x,class:"fa-button",loading:k.loading,onClick:d(e=>(e=>{o.disabledLoading?m("click",e):(L(),m("click",e,j))})(e),["prevent"])}),{default:()=>r.default&&r.default(),...r.loading&&{loading:()=>r.loading()},...r.icon&&{icon:()=>r.icon()}})),h(b,{ref:t(()=>x.value?.ref),size:t(()=>x.value?.size),type:t(()=>x.value?.type),disabled:t(()=>x.value?.disabled),shouldAddSpace:t(()=>x.value?.shouldAddSpace),loading:t(()=>k.loading),doLoading:o=>{k.loading=!0,g(o).then().catch(o=>{p("FaButton",o)}).finally(()=>{k.loading=!1})}})}});export{j as default,L as faButtonEmits,x as faButtonProps};
//# sourceMappingURL=button.mjs.map
