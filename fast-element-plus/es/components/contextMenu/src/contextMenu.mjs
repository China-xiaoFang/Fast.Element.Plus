import{defineComponent as e,reactive as i,onMounted as l,createVNode as o,Transition as t,withDirectives as s,vShow as n,computed as a}from"vue";import{useGlobalSize as p}from"element-plus";import{FaIcon as m}from"../../icon/index.mjs";import{useRender as c,useExpose as r,definePropType as d}from"@fast-china/utils";import{useEventListener as u}from"@vueuse/core";import{isObject as f}from"lodash-unified";const x=/* @__PURE__ */e({name:"FaContextMenu",props:{data:{type:d(Array),default:()=>[]}},emits:{click:(e,i)=>e instanceof MouseEvent&&f(i)},setup(e,{emit:d,expose:f}){const x=p(),b=i({visible:!1,axis:{x:0,y:0}}),v=()=>{b.visible=!1};return l(()=>{u(document,"click",v)}),c(()=>o(t,{name:"el-zoom-in-top"},{default:()=>[s(o("div",{class:["fa-context-menu",`fa-context-menu-${x.value}`,"el-popper el-dropdown__popper"],style:{top:`${b.axis.y+5}px`,left:`${b.axis.x+14}px`},key:Math.random()},[o("ul",{class:"el-dropdown-menu"},[e.data.filter(e=>!e.hide).map(e=>o("li",{class:["el-dropdown-menu__item",!0===e?.disabled?"is-disabled":""],tabIndex:"-1",onClick:i=>{((e,i)=>{i?.disabled||(i?.click&&i.click(e,i),d("click",e,i))})(i,e)}},[e?.icon?o(m,{name:e?.icon},null):null,o("span",null,[e.label])]))])]),[[n,b.visible]])]})),r(f,{visible:a(()=>b.visible),open:(e={x:0,y:0})=>{b.axis=e,b.visible=!0},close:v})}});export{x as default};
//# sourceMappingURL=contextMenu.mjs.map
