import{defineComponent as e,reactive as i,onMounted as l,createVNode as o,Transition as t,withDirectives as s,vShow as a,computed as n}from"vue";import{useGlobalSize as p}from"element-plus";import{FaIcon as m}from"../../icon/index.mjs";import{useRender as r,useExpose as c,definePropType as d}from"@fast-china/utils";import{useEventListener as u}from"@vueuse/core";import{isObject as f}from"lodash-unified";const x=/* @__PURE__ */e({name:"FaContextMenu",props:{data:{type:d(Array),default:()=>[]}},emits:{click:(e,i)=>e instanceof MouseEvent&&f(i)},setup(e,{attrs:d,slots:f,emit:x,expose:b}){const v=p(),k=i({visible:!1,axis:{x:0,y:0}}),y=()=>{k.visible=!1};return l(()=>{u(document,"click",y)}),r(()=>o(t,{name:"el-zoom-in-top"},{default:()=>[s(o("div",{class:["fa-context-menu",`fa-context-menu-${v.value}`,"el-popper el-dropdown__popper"],style:{top:`${k.axis.y+5}px`,left:`${k.axis.x+14}px`},key:Math.random()},[o("ul",{class:"el-dropdown-menu"},[e.data.filter(e=>!e.hide).map(e=>o("li",{class:["el-dropdown-menu__item",!0===e?.disabled?"is-disabled":""],tabIndex:"-1",onClick:i=>{((e,i)=>{i?.disabled||(i?.click&&i.click(e,i),x("click",e,i))})(i,e)}},[e?.icon?o(m,{name:e?.icon},null):null,o("span",null,[e.label])]))])]),[[a,k.visible]])]})),c(b,{visible:n(()=>k.visible),open:(e={x:0,y:0})=>{k.axis=e,k.visible=!0},close:y})}});export{x as default};
//# sourceMappingURL=contextMenu.mjs.map
