{"version":3,"file":"layoutGridItem.mjs","sources":["../../../../../packages/components/layoutGrid/src/layoutGridItem.tsx"],"sourcesContent":["import type { Ref } from \"vue\";\nimport { computed, defineComponent, inject, reactive, ref, watch } from \"vue\";\nimport type { FaLayoutGridBreakPoint } from \"@fast-element-plus/components/layoutGrid\";\nimport { definePropType, makeSlots, useRender } from \"@fast-element-plus/utils\";\nimport type { FaLayoutGridItemResponsive } from \"./layoutGrid.type\";\n\ntype FaLayoutGridItemSlots = {\n\t/** @description 默认内容插槽 */\n\tdefault: never;\n};\n\nexport default defineComponent({\n\tname: \"FaLayoutGridItem\",\n\tprops: {\n\t\t/** @description 偏移 */\n\t\toffset: { type: Number, default: 0 },\n\t\t/** @description 占位 */\n\t\tspan: { type: Number, default: 1 },\n\t\t/** @description 后缀 */\n\t\tsuffix: { type: Boolean, default: false },\n\t\t/** @description 响应式，小于480px屏幕配置 */\n\t\txs: {\n\t\t\ttype: definePropType<FaLayoutGridItemResponsive>(Object),\n\t\t},\n\t\t/** @description 响应式，平板竖屏配置 */\n\t\tsm: {\n\t\t\ttype: definePropType<FaLayoutGridItemResponsive>(Object),\n\t\t},\n\t\t/** @description 响应式，平板横屏配置 */\n\t\tmd: {\n\t\t\ttype: definePropType<FaLayoutGridItemResponsive>(Object),\n\t\t},\n\t\t/** @description 响应式，小型桌面配置 */\n\t\tlg: {\n\t\t\ttype: definePropType<FaLayoutGridItemResponsive>(Object),\n\t\t},\n\t\t/** @description 响应式，大型桌面配置 */\n\t\txl: {\n\t\t\ttype: definePropType<FaLayoutGridItemResponsive>(Object),\n\t\t},\n\t},\n\tslots: makeSlots<FaLayoutGridItemSlots>(),\n\tsetup(props, { attrs, slots, emit, expose }) {\n\t\tconst state = reactive({\n\t\t\tshow: true,\n\t\t});\n\n\t\tconst attrsObj = attrs as any;\n\n\t\t// 注入断点\n\t\tconst breakPoint = inject<Ref<FaLayoutGridBreakPoint>>(\"breakPoint\", ref(\"xl\"));\n\t\tconst shouldHiddenIndex = inject<Ref<number>>(\"shouldHiddenIndex\", ref(-1));\n\n\t\twatch(\n\t\t\t() => [shouldHiddenIndex.value, breakPoint.value],\n\t\t\t(n) => {\n\t\t\t\tif (~~attrsObj.index) {\n\t\t\t\t\tstate.show = !(n[0] !== -1 && parseInt(attrsObj.index) >= Number(n[0]));\n\t\t\t\t}\n\t\t\t},\n\t\t\t{ immediate: true }\n\t\t);\n\n\t\tconst gap = inject(\"gap\", 0);\n\t\tconst cols = inject<Ref<number>>(\"cols\", ref(5));\n\n\t\tconst style = computed(() => {\n\t\t\tconst breakPointObk = props[breakPoint.value] as FaLayoutGridItemResponsive;\n\t\t\tconst span = breakPointObk?.span ?? props.span;\n\t\t\tconst offset = breakPointObk?.offset ?? props.offset;\n\t\t\tif (props.suffix) {\n\t\t\t\treturn {\n\t\t\t\t\tgridColumnStart: cols.value - span - offset + 1,\n\t\t\t\t\tgridColumnEnd: `span ${span + offset}`,\n\t\t\t\t\tmarginLeft: offset !== 0 ? `calc(((100% + ${gap}px) / ${span + offset}) * ${offset})` : \"unset\",\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\treturn {\n\t\t\t\t\tgridColumn: `span ${span + offset > cols.value ? cols.value : span + offset}/span ${\n\t\t\t\t\t\tspan + offset > cols.value ? cols.value : span + offset\n\t\t\t\t\t}`,\n\t\t\t\t\tmarginLeft: offset !== 0 ? `calc(((100% + ${gap}px) / ${span + offset}) * ${offset})` : \"unset\",\n\t\t\t\t};\n\t\t\t}\n\t\t});\n\n\t\tuseRender(() => (\n\t\t\t<div style={style.value} vShow={state.show}>\n\t\t\t\t{slots.default && slots.default()}\n\t\t\t</div>\n\t\t));\n\t},\n});\n"],"names":["defineComponent","name","props","offset","type","Number","default","span","suffix","Boolean","xs","definePropType","Object","sm","md","lg","xl","slots","makeSlots","setup","attrs","emit","expose","state","reactive","show","attrsObj","breakPoint","inject","ref","shouldHiddenIndex","watch","value","n","index","parseInt","immediate","gap","cols","style","computed","breakPointObk","gridColumnStart","gridColumnEnd","marginLeft","gridColumn","useRender","_withDirectives","_createVNode","_vShow"],"mappings":";;;;;AAWA,MAAeA,iDAAgB;AAAA,EAC9BC,MAAM;AAAA,EACNC,OAAO;AAAA;AAAA,IAENC,QAAQ;AAAA,MAAEC,MAAMC;AAAAA,MAAQC,SAAS;AAAA,IAAG;AAAA;AAAA,IAEpCC,MAAM;AAAA,MAAEH,MAAMC;AAAAA,MAAQC,SAAS;AAAA,IAAG;AAAA;AAAA,IAElCE,QAAQ;AAAA,MAAEJ,MAAMK;AAAAA,MAASH,SAAS;AAAA,IAAO;AAAA;AAAA,IAEzCI,IAAI;AAAA,MACHN,MAAMO,eAA2CC,MAAM;AAAA,IACvD;AAAA;AAAA,IAEDC,IAAI;AAAA,MACHT,MAAMO,eAA2CC,MAAM;AAAA,IACvD;AAAA;AAAA,IAEDE,IAAI;AAAA,MACHV,MAAMO,eAA2CC,MAAM;AAAA,IACvD;AAAA;AAAA,IAEDG,IAAI;AAAA,MACHX,MAAMO,eAA2CC,MAAM;AAAA,IACvD;AAAA;AAAA,IAEDI,IAAI;AAAA,MACHZ,MAAMO,eAA2CC,MAAM;AAAA,IACxD;AAAA,EACA;AAAA,EACDK,OAAOC,UAAkC;AAAA,EACzCC,MAAMjB,OAAO;AAAA,IAAEkB;AAAAA,IAAOH;AAAAA,IAAOI;AAAAA,IAAMC;AAAAA,EAAO,GAAG;AAC5C,UAAMC,QAAQC,SAAS;AAAA,MACtBC,MAAM;AAAA,IACP,CAAC;AAED,UAAMC,WAAWN;AAGjB,UAAMO,aAAaC,OAAoC,cAAcC,IAAI,IAAI,CAAC;AAC9E,UAAMC,oBAAoBF,OAAoB,qBAAqBC,IAAI,EAAE,CAAC;AAE1EE,UACC,MAAM,CAACD,kBAAkBE,OAAOL,WAAWK,KAAK,GAC/CC,OAAM;AACN,UAAI,CAAC,CAACP,SAASQ,OAAO;AACrBX,cAAME,OAAO,EAAEQ,EAAE,CAAC,MAAM,MAAME,SAAST,SAASQ,KAAK,KAAK7B,OAAO4B,EAAE,CAAC,CAAC;AAAA,MACtE;AAAA,IACD,GACA;AAAA,MAAEG,WAAW;AAAA,IAAK,CACnB;AAEA,UAAMC,MAAMT,OAAO,OAAO,CAAC;AAC3B,UAAMU,OAAOV,OAAoB,QAAQC,IAAI,CAAC,CAAC;AAE/C,UAAMU,QAAQC,SAAS,MAAM;AAC5B,YAAMC,gBAAgBvC,MAAMyB,WAAWK,KAAK;AAC5C,YAAMzB,QAAOkC,+CAAelC,SAAQL,MAAMK;AAC1C,YAAMJ,UAASsC,+CAAetC,WAAUD,MAAMC;AAC9C,UAAID,MAAMM,QAAQ;AACjB,eAAO;AAAA,UACNkC,iBAAiBJ,KAAKN,QAAQzB,OAAOJ,SAAS;AAAA,UAC9CwC,eAAe,QAAQpC,OAAOJ,MAAM;AAAA,UACpCyC,YAAYzC,WAAW,IAAI,iBAAiBkC,GAAG,SAAS9B,OAAOJ,MAAM,OAAOA,MAAM,MAAM;AAAA;MAE1F,OAAO;AACN,eAAO;AAAA,UACN0C,YAAY,QAAQtC,OAAOJ,SAASmC,KAAKN,QAAQM,KAAKN,QAAQzB,OAAOJ,MAAM,SAC1EI,OAAOJ,SAASmC,KAAKN,QAAQM,KAAKN,QAAQzB,OAAOJ,MAAM;AAAA,UAExDyC,YAAYzC,WAAW,IAAI,iBAAiBkC,GAAG,SAAS9B,OAAOJ,MAAM,OAAOA,MAAM,MAAM;AAAA;MAE1F;AAAA,IACD,CAAC;AAED2C,cAAU,MAAAC,eAAAC,YAAA,OAAA;AAAA,MAAA,SACGT,MAAMP;AAAAA,IAAK,GAAA,CACrBf,MAAMX,WAAWW,MAAMX,QAAO,CAAE,CAAA,GAAA,CAAA,CAAA2C,OADF1B,MAAME,IAAI,GAG1C;AAAA,EACF;AACD,CAAC;"}