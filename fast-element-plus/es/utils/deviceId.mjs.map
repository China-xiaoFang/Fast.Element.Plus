{"version":3,"file":"deviceId.mjs","sources":["../../../packages/utils/deviceId.ts"],"sourcesContent":["import { RegExps } from \"@fast-element-plus/constants\";\nimport { Local, stringUtil } from \"@fast-element-plus/utils\";\n\n/**\n * 设备Id Key\n */\nexport const DEVICE_ID_KEY = \"__DEVICE_ID\";\n\n/**\n * 生成设备唯一标识（不安全）\n * @description 如果存在，则返回已经生成的唯一标识\n */\nexport const makeIdentity = (deviceId?: string): string => {\n\tif (deviceId && RegExps.UUID.test(deviceId)) {\n\t\tLocal.set(DEVICE_ID_KEY, deviceId);\n\t\twindow.deviceId = deviceId;\n\t\treturn deviceId;\n\t}\n\t// 生成浏览器唯一 UUID\n\tdeviceId = Local.get(DEVICE_ID_KEY);\n\tif (deviceId && RegExps.UUID.test(deviceId)) {\n\t\twindow.deviceId = deviceId;\n\t\treturn deviceId;\n\t}\n\tdeviceId = stringUtil.generateUUID();\n\tLocal.set(DEVICE_ID_KEY, deviceId);\n\twindow.deviceId = deviceId;\n\treturn deviceId;\n};\n"],"names":[],"mappings":";;;;;AAMO,MAAM,gBAAgB;AAMhB,MAAA,eAAe,CAAC,aAA8B;AAC1D,MAAI,YAAY,QAAQ,KAAK,KAAK,QAAQ,GAAG;AACtC,UAAA,IAAI,eAAe,QAAQ;AACjC,WAAO,WAAW;AACX,WAAA;AAAA,EACR;AAEW,aAAA,MAAM,IAAI,aAAa;AAClC,MAAI,YAAY,QAAQ,KAAK,KAAK,QAAQ,GAAG;AAC5C,WAAO,WAAW;AACX,WAAA;AAAA,EACR;AACA,aAAW,WAAW;AAChB,QAAA,IAAI,eAAe,QAAQ;AACjC,SAAO,WAAW;AACX,SAAA;AACR;"}