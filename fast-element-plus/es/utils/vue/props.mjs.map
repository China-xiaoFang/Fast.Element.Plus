{"version":3,"file":"props.mjs","sources":["../../../../packages/utils/vue/props.ts"],"sourcesContent":["import type { ComputedRef } from \"vue\";\nimport { computed } from \"vue\";\nimport { omit, pick } from \"lodash-unified\";\n\n/**\n * 构建 props\n * @param props props\n * @param rawProps 原生 props\n * @param ignoreRawProps 忽略 原生 props 的 key\n * @param mergeProps 合并的 props，固定的值，即使在外部props中传入了也没用\n */\nconst useProps = <T extends Record<string, unknown>, RT extends Record<string, unknown>>(\n\tprops: T,\n\trawProps?: RT,\n\tignoreRawProps?: (keyof RT)[],\n\tmergeProps?: Partial<Record<keyof RT, unknown>>\n): ComputedRef<Record<string, unknown>> => {\n\tif (!props) return computed(() => ({}));\n\n\treturn computed<Record<string, unknown>>(() => {\n\t\tconst omittedRawProps = rawProps ? omit(rawProps, ignoreRawProps ?? []) : {};\n\t\tconst pickedProps = pick(props, Object.keys(omittedRawProps)) as Record<string, unknown>;\n\t\treturn { ...pickedProps, ...(mergeProps ?? {}) };\n\t});\n};\n\nexport { useProps };\n"],"names":[],"mappings":";;AAWA,MAAM,WAAW,CAChB,OACA,UACA,gBACA,eAC0C;AAC1C,MAAI,CAAC,MAAO,QAAO,SAAS,OAAO,CAAA,EAAG;AAEtC,SAAO,SAAkC,MAAM;AACxC,UAAA,kBAAkB,WAAW,KAAK,UAAU,kBAAkB,CAAA,CAAE,IAAI;AAC1E,UAAM,cAAc,KAAK,OAAO,OAAO,KAAK,eAAe,CAAC;AAC5D,WAAO,EAAE,GAAG,aAAa,GAAI,cAAc,CAAI,EAAA;AAAA,EAAA,CAC/C;AACF;"}