{"version":3,"file":"index.mjs","sources":["../../../../packages/directives/click-debounce/index.ts"],"sourcesContent":["/**\n * v-debounce\n * 按钮防抖指令\n */\nimport { withInstallDirective } from \"@fast-china/utils\";\nimport type { Directive, DirectiveBinding, VNode } from \"vue\";\n\ninterface ElType extends HTMLElement {\n\t__debounce_timer__: NodeJS.Timeout;\n\t__debounce_originClick__: () => any;\n}\n\nconst DebounceDirective: Directive = {\n\tcreated(el: ElType, binding: DirectiveBinding, vNode: VNode) {\n\t\t// 记录原来的点击事件方法\n\t\tel.__debounce_originClick__ = vNode.props.onClick;\n\n\t\t// 替换原来的点击事件\n\t\tvNode.props.onClick = (): void => {\n\t\t\tif (el.__debounce_timer__) {\n\t\t\t\tclearInterval(el.__debounce_timer__);\n\t\t\t}\n\t\t\t// 防抖处理\n\t\t\tel.__debounce_timer__ = setTimeout(() => {\n\t\t\t\tel.__debounce_originClick__();\n\t\t\t}, 500);\n\t\t};\n\t},\n};\n\nexport const vDebounce = withInstallDirective(DebounceDirective, \"debounce\");\nexport default vDebounce;\n"],"names":["vDebounce","withInstallDirective","created","el","binding","vNode","__debounce_originClick__","props","onClick","__debounce_timer__","clearInterval","setTimeout"],"mappings":"yDAYA,MAkBaA,EAAYC,EAlBY,CACpC,OAAAC,CAAQC,EAAYC,EAA2BC,GAE9CF,EAAGG,yBAA2BD,EAAME,MAAMC,QAG1CH,EAAME,MAAMC,QAAU,KACjBL,EAAGM,oBACNC,cAAcP,EAAGM,oBAGlBN,EAAGM,mBAAqBE,WAAW,KAClCR,EAAGG,4BACD,KAEL,GAGgE"}