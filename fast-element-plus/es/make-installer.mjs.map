{"version":3,"file":"make-installer.mjs","sources":["../../packages/make-installer.ts"],"sourcesContent":["import type { App } from \"vue\";\nimport { FastApp, type FastAppOptions } from \"@fast-element-plus/settings\";\nimport { errorHandler, makeIdentity } from \"@fast-element-plus/utils\";\nimport { installElementPlus } from \"./element-plus\";\nimport { installFastElementPlus } from \"./fast-element-plus\";\nimport { fastElementPlusVersion } from \"./version\";\n\nexport const INSTALLED_KEY = Symbol(\"INSTALLED_KEY\");\n\nexport const makeInstaller = (): {\n\tversion: string;\n\tinstall: (app: App, options?: FastAppOptions) => void;\n} => {\n\tconst install = (app: App, options?: FastAppOptions): void => {\n\t\tif (app[INSTALLED_KEY]) return;\n\n\t\tapp[INSTALLED_KEY] = true;\n\n\t\t// 全局异常捕获\n\t\tapp.config.errorHandler = errorHandler;\n\n\t\tmakeIdentity();\n\n\t\tif (options) {\n\t\t\tFastApp.setAppOptions(options);\n\t\t}\n\n\t\tinstallElementPlus(app);\n\t\tinstallFastElementPlus(app);\n\t};\n\n\treturn {\n\t\tversion: fastElementPlusVersion,\n\t\tinstall,\n\t};\n};\n"],"names":[],"mappings":";;;;;;;AAOa,MAAA,gBAAgB,OAAO,eAAe;AAE5C,MAAM,gBAAgB,MAGxB;AACE,QAAA,UAAU,CAAC,KAAU,YAAmC;AACzD,QAAA,IAAI,aAAa,EAAG;AAExB,QAAI,aAAa,IAAI;AAGrB,QAAI,OAAO,eAAe;AAEb;AAEb,QAAI,SAAS;AACZ,cAAQ,cAAc,OAAO;AAAA,IAC9B;AAEA,uBAAmB,GAAG;AACtB,2BAAuB,GAAG;AAAA,EAAA;AAGpB,SAAA;AAAA,IACN,SAAS;AAAA,IACT;AAAA,EAAA;AAEF;"}