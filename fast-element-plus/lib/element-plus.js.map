{"version":3,"file":"element-plus.js","sources":["../../packages/element-plus.ts"],"sourcesContent":["/** Element Plus 组件全局配置 */\n\nimport ElementPlus, { ElDialog, ElForm, ElInput, ElInputNumber, ElMessageBox, ElSelect, ElTable, ElTree, ElTreeSelect } from \"element-plus\";\nimport * as ElementPlusIconsVue from \"@element-plus/icons-vue\";\nimport { useOverlay } from \"@fast-element-plus/hooks\";\nimport { consoleError, execFunction } from \"@fast-china/utils\";\nimport { isNil, isString } from \"lodash-unified\";\nimport type { Action, ElMessageBoxOptions, MessageBoxData, MessageBoxState, TableProps } from \"element-plus\";\nimport type { App, AppContext, PropType } from \"vue\";\n\nElDialog.props = {\n\t...ElDialog.props,\n\t/**\n\t * 默认拖拽\n\t * @description enable dragging feature for Dialog\n\t */\n\tdraggable: {\n\t\ttype: Boolean,\n\t\tdefault: true,\n\t},\n};\n\nElForm.props = {\n\t...ElForm.props,\n\t/** @description Width of label, e.g. `'50px'`. All its direct child form items will inherit this value. `auto` is supported. */\n\tlabelWidth: {\n\t\ttype: [String, Number],\n\t\tdefault: \"auto\",\n\t},\n\t/** @description Suffix of the label. */\n\tlabelSuffix: {\n\t\ttype: String,\n\t\tdefault: \"：\",\n\t},\n\t/** @description When validation fails, scroll to the first error form entry. */\n\tscrollToError: {\n\t\ttype: Boolean,\n\t\tdefault: true,\n\t},\n};\n\nElInput.props = {\n\t...ElInput.props,\n\t/**\n\t * 默认显示统计字数\n\t * @description word count\n\t */\n\tshowWordLimit: {\n\t\ttype: Boolean,\n\t\tdefault: true,\n\t},\n};\n\nElInputNumber.props = {\n\t...ElInputNumber.props,\n\t/**\n\t * 默认不使用控制按钮\n\t * @description whether to enable the control buttons\n\t */\n\tcontrols: {\n\t\ttype: Boolean,\n\t\tdefault: false,\n\t},\n};\n\nElSelect.props = {\n\t...ElSelect.props,\n\t/** @description displayed text while loading data from server, default is 'Loading' */\n\tloadingText: {\n\t\ttype: String,\n\t\tdefault: \"加载中...\",\n\t},\n\t/** @description displayed text when no data matches the filtering query, you can also use slot `empty`, default is 'No matching data' */\n\tnoMatchText: {\n\t\ttype: String,\n\t\tdefault: \"暂无匹配的数据\",\n\t},\n\t/** @description displayed text when there is no options, you can also use slot `empty`, default is 'No data' */\n\tnoDataText: {\n\t\ttype: String,\n\t\tdefault: \"暂无数据\",\n\t},\n\t/**\n\t * 默认按文字形式展示\n\t * @description whether to collapse tags to a text when multiple selecting\n\t */\n\tcollapseTags: {\n\t\ttype: Boolean,\n\t\tdefault: true,\n\t},\n\t/**\n\t * 默认显示所有选中的标签\n\t * @description whether show all selected tags when mouse hover text of collapse-tags. To use this, `collapse-tags` must be true\n\t */\n\tcollapseTagsTooltip: {\n\t\ttype: Boolean,\n\t\tdefault: true,\n\t},\n};\n\nElTable.props = {\n\t...ElTable.props,\n\t/**\n\t * 默认显示边框\n\t * @description whether Table has vertical border\n\t */\n\tborder: {\n\t\ttype: Boolean,\n\t\tdefault: true,\n\t},\n\t/**\n\t * 默认高亮当前行\n\t * @description whether current row is highlighted\n\t */\n\thighlightCurrentRow: {\n\t\ttype: Boolean,\n\t\tdefault: true,\n\t},\n\t/**\n\t * 默认行Key为 \"id\"\n\t * @description key of row data, used for optimizing rendering. Required if `reserve-selection` is on or display tree data. When its type is String, multi-level access is supported, e.g. `user.info.id`, but `user.info[0].id` is not supported, in which case `Function` should be used\n\t */\n\trowKey: {\n\t\ttype: [String, Function] as PropType<TableProps<any>[\"rowKey\"]>,\n\t\tdefault: \"id\",\n\t},\n};\n\nElTree.props = {\n\t...ElTree.props,\n\t/**\n\t * 默认展开所有节点\n\t * @description 是否默认展开所有节点\n\t */\n\tdefaultExpandAll: {\n\t\ttype: Boolean,\n\t\tdefault: true,\n\t},\n\t/**\n\t * 默认点击时选中节点\n\t * @description 是否在点击节点的时候选中节点\n\t */\n\tcheckOnClickNode: {\n\t\ttype: Boolean,\n\t\tdefault: true,\n\t},\n\t/**\n\t * 默认高亮选中节点\n\t * @description 是否高亮当前选中节点\n\t */\n\thighlightCurrent: {\n\t\ttype: Boolean,\n\t\tdefault: true,\n\t},\n};\n\nElTreeSelect.props = {\n\t...ElTreeSelect.props,\n\t/** @description displayed text while loading data from server, default is 'Loading' */\n\tloadingText: {\n\t\ttype: String,\n\t\tdefault: \"加载中...\",\n\t},\n\t/** @description displayed text when no data matches the filtering query, you can also use slot `empty`, default is 'No matching data' */\n\tnoMatchText: {\n\t\ttype: String,\n\t\tdefault: \"暂无匹配的数据\",\n\t},\n\t/** @description displayed text when there is no options, you can also use slot `empty`, default is 'No data' */\n\tnoDataText: {\n\t\ttype: String,\n\t\tdefault: \"暂无数据\",\n\t},\n\t/**\n\t * 默认按文字形式展示\n\t * @description whether to collapse tags to a text when multiple selecting\n\t */\n\tcollapseTags: {\n\t\ttype: Boolean,\n\t\tdefault: true,\n\t},\n\t/**\n\t * 默认显示所有选中的标签\n\t * @description whether show all selected tags when mouse hover text of collapse-tags. To use this, `collapse-tags` must be true\n\t */\n\tcollapseTagsTooltip: {\n\t\ttype: Boolean,\n\t\tdefault: true,\n\t},\n\t/**\n\t * 默认展开所有节点\n\t * @description 是否默认展开所有节点\n\t */\n\tdefaultExpandAll: {\n\t\ttype: Boolean,\n\t\tdefault: true,\n\t},\n\t/**\n\t * 默认点击时选中节点\n\t * @description 是否在点击节点的时候选中节点\n\t */\n\tcheckOnClickNode: {\n\t\ttype: Boolean,\n\t\tdefault: true,\n\t},\n\t/**\n\t * 默认高亮选中节点\n\t * @description 是否高亮当前选中节点\n\t */\n\thighlightCurrent: {\n\t\ttype: Boolean,\n\t\tdefault: true,\n\t},\n\t/**\n\t * 默认点击节点不展开或收缩节点\n\t * @description 是否在点击节点的时候展开或者收缩节点， 默认值为 true，如果为 false，则只有点箭头图标的时候才会展开或者收缩节点。\n\t */\n\texpandOnClickNode: Boolean,\n};\n\n// ElMessageBox 默认配置\nconst elMessageBox = (\n\ttype: \"alert\" | \"confirm\" | \"prompt\",\n\tmessage: ElMessageBoxOptions[\"message\"],\n\toptions?: ElMessageBoxOptions,\n\tappContext?: AppContext | null\n): Promise<MessageBoxData> => {\n\toptions = options ?? {};\n\tif (!options?.title) {\n\t\t// 默认提示\n\t\toptions.title = \"温馨提示\";\n\t}\n\tif (isNil(options?.draggable)) {\n\t\t// 默认拖拽\n\t\toptions.draggable = true;\n\t}\n\tif (!options?.cancelButtonText) {\n\t\t// 默认 取消按钮的文本内容\n\t\toptions.cancelButtonText = \"取消\";\n\t}\n\tif (!options?.confirmButtonText) {\n\t\t// 默认 确定按钮的文本内容\n\t\toptions.confirmButtonText = \"确定\";\n\t}\n\tif (isNil(options?.closeOnClickModal)) {\n\t\t// 默认 是否可通过点击遮罩层关闭 MessageBox\n\t\toptions.closeOnClickModal = false;\n\t}\n\tif (isNil(options?.closeOnPressEscape)) {\n\t\t// 默认 是否可通过按下 ESC 键关闭 MessageBox\n\t\toptions.closeOnPressEscape = false;\n\t}\n\n\t// 关闭之前的判断逻辑\n\tif (!isNil(options?.beforeClose)) {\n\t\tconst localBeforeClose = options.beforeClose;\n\t\tconst localConfirmButtonText = options?.confirmButtonText;\n\t\tconst localShowCancelButton = options?.showCancelButton;\n\t\toptions.beforeClose = (action: Action, instance: MessageBoxState, done: () => void): void => {\n\t\t\tif (action === \"confirm\") {\n\t\t\t\tuseOverlay.show(0);\n\t\t\t\tinstance.confirmButtonLoading = true;\n\t\t\t\tinstance.showCancelButton = false;\n\t\t\t\tinstance.confirmButtonText = \"加载中...\";\n\n\t\t\t\tconst cancelLoading = (): void => {\n\t\t\t\t\tinstance.confirmButtonLoading = false;\n\t\t\t\t\tinstance.showCancelButton = localShowCancelButton;\n\t\t\t\t\tinstance.confirmButtonText = localConfirmButtonText;\n\t\t\t\t\tuseOverlay.hide();\n\t\t\t\t};\n\n\t\t\t\tconst newDone = (): void => {\n\t\t\t\t\tcancelLoading();\n\t\t\t\t\tdone();\n\t\t\t\t};\n\n\t\t\t\texecFunction(localBeforeClose, action, instance, newDone)\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tnewDone();\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\tconsoleError(\"MessageBox\", error);\n\t\t\t\t\t\tcancelLoading();\n\t\t\t\t\t\tthrow error;\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tdone();\n\t\t\t}\n\t\t};\n\t}\n\n\t// 根据类型有一些判断\n\tswitch (type) {\n\t\tcase \"alert\":\n\t\t\tbreak;\n\t\tcase \"confirm\":\n\t\t\tif (isNil(options?.showCancelButton)) {\n\t\t\t\toptions.showCancelButton = true;\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"prompt\":\n\t\t\tif (options?.showCancelButton == undefined) {\n\t\t\t\toptions.showCancelButton = true;\n\t\t\t}\n\t\t\tbreak;\n\t}\n\n\treturn ElMessageBox(\n\t\tObject.assign(\n\t\t\t{\n\t\t\t\tmessage,\n\t\t\t},\n\t\t\toptions,\n\t\t\t{\n\t\t\t\tboxType: type,\n\t\t\t}\n\t\t)\n\t);\n};\n\ntype MESSAGE_BOX_TYPE = \"alert\" | \"confirm\" | \"prompt\";\nconst MESSAGE_BOX_DEFAULT_OPTS: Record<MESSAGE_BOX_TYPE, Partial<ElMessageBoxOptions>> = {\n\talert: { closeOnPressEscape: false, closeOnClickModal: false },\n\tconfirm: { showCancelButton: true },\n\tprompt: { showCancelButton: true, showInput: true },\n};\n\nElMessageBox.alert = (\n\tmessage: ElMessageBoxOptions[\"message\"],\n\ttitleOrOptions?: string | ElMessageBoxOptions,\n\toptions?: ElMessageBoxOptions,\n\tappContext?: AppContext | null\n): Promise<MessageBoxData> =>\n\tisString(titleOrOptions)\n\t\t? elMessageBox(\"alert\", message, Object.assign({ title: titleOrOptions, ...MESSAGE_BOX_DEFAULT_OPTS[\"alert\"] }, options), appContext)\n\t\t: elMessageBox(\"alert\", message, Object.assign(titleOrOptions, MESSAGE_BOX_DEFAULT_OPTS[\"alert\"], options), options as AppContext);\n\nElMessageBox.prompt = (\n\tmessage: ElMessageBoxOptions[\"message\"],\n\ttitleOrOptions?: string | ElMessageBoxOptions,\n\toptions?: ElMessageBoxOptions,\n\tappContext?: AppContext | null\n): Promise<MessageBoxData> =>\n\tisString(titleOrOptions)\n\t\t? elMessageBox(\"prompt\", message, Object.assign({ title: titleOrOptions, ...MESSAGE_BOX_DEFAULT_OPTS[\"prompt\"] }, options), appContext)\n\t\t: elMessageBox(\"prompt\", message, Object.assign(titleOrOptions, MESSAGE_BOX_DEFAULT_OPTS[\"prompt\"], options), options as AppContext);\n\nElMessageBox.confirm = (\n\tmessage: ElMessageBoxOptions[\"message\"],\n\ttitleOrOptions?: string | ElMessageBoxOptions,\n\toptions?: AppContext | ElMessageBoxOptions,\n\tappContext?: AppContext | null\n): Promise<MessageBoxData> =>\n\tisString(titleOrOptions)\n\t\t? elMessageBox(\"confirm\", message, Object.assign({ title: titleOrOptions, ...MESSAGE_BOX_DEFAULT_OPTS[\"confirm\"] }, options), appContext)\n\t\t: elMessageBox(\"confirm\", message, Object.assign(titleOrOptions, MESSAGE_BOX_DEFAULT_OPTS[\"confirm\"], options), options as AppContext);\n\nexport const installElementPlus = (app: App): void => {\n\t/** 注册所有 Element Plus Icon */\n\tfor (const [key, component] of Object.entries(ElementPlusIconsVue)) {\n\t\t// 这里是给 FaIcon 使用的\n\t\tapp.component(`el-icon-${key}`, component);\n\t}\n\n\t/** Element Plus 组件完整引入 */\n\tapp.use(ElementPlus);\n};\n"],"names":["ElDialog","props","draggable","type","Boolean","default","ElForm","labelWidth","String","Number","labelSuffix","scrollToError","ElInput","showWordLimit","ElInputNumber","controls","ElSelect","loadingText","noMatchText","noDataText","collapseTags","collapseTagsTooltip","ElTable","border","highlightCurrentRow","rowKey","Function","ElTree","defaultExpandAll","checkOnClickNode","highlightCurrent","ElTreeSelect","expandOnClickNode","elMessageBox","message","options","appContext","title","isNil","cancelButtonText","confirmButtonText","closeOnClickModal","closeOnPressEscape","beforeClose","localBeforeClose","localConfirmButtonText","localShowCancelButton","showCancelButton","action","instance","done","useOverlay","show","confirmButtonLoading","cancelLoading","hide","newDone","execFunction","then","catch","error","consoleError","ElMessageBox","Object","assign","boxType","MESSAGE_BOX_DEFAULT_OPTS","showInput","alert","titleOrOptions","isString","prompt","confirm","app","key","component","entries","ElementPlusIconsVue","use","ElementPlus"],"mappings":"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"}