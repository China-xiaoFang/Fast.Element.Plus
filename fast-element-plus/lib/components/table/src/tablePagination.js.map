{"version":3,"file":"tablePagination.js","sources":["../../../../../packages/components/table/src/tablePagination.tsx"],"sourcesContent":["import { defineComponent, inject } from \"vue\";\nimport { ElMessageBox, ElPagination } from \"element-plus\";\nimport { definePropType, useRender } from \"@fast-china/utils\";\nimport { isNull, isNumber } from \"lodash-unified\";\nimport { tableStateKey } from \"./useTable\";\n\nexport default defineComponent({\n\tname: \"FaTablePagination\",\n\tprops: {\n\t\t/** @description 页码 */\n\t\tpageSizes: {\n\t\t\ttype: definePropType<number[]>(Array),\n\t\t\tdefault: [20, 30, 50, 100, 200, 300, 500, 1000],\n\t\t},\n\t},\n\temits: {\n\t\t/** @description 页码改变 */\n\t\tsizeChange: (pageSize: number) => isNumber(pageSize) || isNull(pageSize),\n\t\t/** @description 当前页数改变 */\n\t\tcurrentChange: (currentPage: number) => isNumber(currentPage) || isNull(currentPage),\n\t},\n\tsetup(props, { emit }) {\n\t\tconst tableState = inject(tableStateKey);\n\n\t\tconst handleSizeChange = (pageSize: number): void => {\n\t\t\tif (pageSize > 100) {\n\t\t\t\tElMessageBox.confirm(\"当前页码已经超过100条/页，可能会造成页面卡顿，是否继续？\", {\n\t\t\t\t\tconfirmButtonText: \"继续\",\n\t\t\t\t\ttype: \"warning\",\n\t\t\t\t}).then(() => {\n\t\t\t\t\temit(\"sizeChange\", pageSize);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\temit(\"sizeChange\", pageSize);\n\t\t\t}\n\t\t};\n\n\t\tuseRender(() => (\n\t\t\t<ElPagination\n\t\t\t\tclass=\"fa-table-pagination\"\n\t\t\t\tsize=\"small\"\n\t\t\t\tvModel:currentPage={tableState.tablePagination.pageIndex}\n\t\t\t\tvModel:pageSize={tableState.tablePagination.pageSize}\n\t\t\t\tpageSizes={props.pageSizes}\n\t\t\t\tbackground\n\t\t\t\tlayout=\"jumper, prev, pager, next, sizes, total\"\n\t\t\t\ttotal={tableState.tablePagination.totalRows}\n\t\t\t\tonSizeChange={handleSizeChange}\n\t\t\t\tonCurrentChange={(currentPage: number) => emit(\"currentChange\", currentPage)}\n\t\t\t/>\n\t\t));\n\t},\n});\n"],"names":["TablePagination","name","props","pageSizes","type","definePropType","Array","default","emits","sizeChange","isNumber","pageSize","isNull","currentChange","currentPage","setup","emit","tableState","inject","tableStateKey","handleSizeChange","ElMessageBox","confirm","confirmButtonText","then","useRender","_createVNode","ElPagination","class","size","tablePagination","pageIndex","$event","background","layout","total","totalRows","onSizeChange","onCurrentChange"],"mappings":"mPAMAA,oBAA+B,CAC9BC,KAAM,oBACNC,MAAO,CAENC,UAAW,CACVC,KAAMC,EAAAA,eAAyBC,OAC/BC,QAAS,CAAC,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,OAG5CC,MAAO,CAENC,cAAkCC,EAAAA,SAASC,IAAaC,EAAAA,OAAOD,GAE/DE,iBAAwCH,EAAAA,SAASI,IAAgBF,EAAAA,OAAOE,IAEzEC,KAAAA,CAAMb,GAAOc,KAAEA,IACd,MAAMC,EAAaC,EAAAA,OAAOC,iBAEpBC,EAAoBT,IACrBA,EAAW,IACdU,EAAAA,aAAaC,QAAQ,iCAAkC,CACtDC,kBAAmB,KACnBnB,KAAM,YACJoB,KAAK,KACPR,EAAK,aAAcL,KAGpBK,EAAK,aAAcL,IAIrBc,YAAU,IAAAC,EAAAA,YAAAC,eAAA,CAAAC,MAAA,sBAAAC,KAAA,QAAAf,YAIYG,EAAWa,gBAAgBC,UAAS,uBAAAC,GAApCf,EAAWa,gBAAgBC,UAASC,EAAArB,SACvCM,EAAWa,gBAAgBnB,SAAQ,oBAAAqB,GAAnCf,EAAWa,gBAAgBnB,SAAQqB,EAAA7B,UACzCD,EAAMC,UAAS8B,YAAA,EAAAC,OAAA,0CAAAC,MAGnBlB,EAAWa,gBAAgBM,UAASC,aAC7BjB,EAAgBkB,gBACZxB,GAAwBE,EAAK,gBAAiBF,IAAY,MAG/E"}