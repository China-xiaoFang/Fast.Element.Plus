{"version":3,"file":"avatar.js","sources":["../../../../../packages/components/avatar/src/avatar.tsx"],"sourcesContent":["import { computed, defineComponent, reactive } from \"vue\";\nimport { ElAvatar, avatarEmits, avatarProps } from \"element-plus\";\nimport { Picture } from \"@element-plus/icons-vue\";\nimport { definePropType, makeSlots, useEmits, useExpose, useProps, useRender } from \"@fast-china/utils\";\nimport type { Component } from \"vue\";\n\nexport const faAvatarProps = {\n\t...avatarProps,\n\t/** @description representation type to icon, more info on icon component. */\n\ticon: {\n\t\ttype: definePropType<string | Component>([String, Object, Function]),\n\t\tdefault: (): string | Component => Picture,\n\t},\n\t/** @description Base64图片 */\n\tbase64: Boolean,\n\t/** @description 原图 */\n\toriginal: Boolean,\n\t/** @description 标准 */\n\tnormal: Boolean,\n\t/** @description 小图 */\n\tsmall: Boolean,\n\t/** @description 缩略图 */\n\tthumb: Boolean,\n};\n\nexport const faAvatarEmits = {\n\t...avatarEmits,\n};\n\ntype FaAvatarSlots = {\n\t/** @description 默认内容插槽 */\n\tdefault: { src: string };\n};\n\nexport default defineComponent({\n\tname: \"FaAvatar\",\n\tprops: faAvatarProps,\n\temits: faAvatarEmits,\n\tslots: makeSlots<FaAvatarSlots>(),\n\tsetup(props, { attrs, slots, emit, expose }) {\n\t\tconst state = reactive({\n\t\t\tsrc: computed(() => {\n\t\t\t\tif (!props.src) return undefined;\n\t\t\t\tif (props.base64) {\n\t\t\t\t\treturn `data:image/png;base64,${props.src}`;\n\t\t\t\t} else if (props.original) {\n\t\t\t\t\treturn props.src;\n\t\t\t\t} else if (props.normal) {\n\t\t\t\t\treturn `${props.src}@!normal`;\n\t\t\t\t} else if (props.small) {\n\t\t\t\t\treturn `${props.src}@!small`;\n\t\t\t\t} else if (props.thumb) {\n\t\t\t\t\treturn `${props.src}@!thumb`;\n\t\t\t\t} else {\n\t\t\t\t\t// 默认使用缩略图\n\t\t\t\t\treturn `${props.src}@!thumb`;\n\t\t\t\t}\n\t\t\t}),\n\t\t});\n\n\t\tconst elAvatarProps = useProps(props, avatarProps, [\"src\"]);\n\t\tconst elAvatarEmits = useEmits(avatarEmits, emit);\n\n\t\tuseRender(() => (\n\t\t\t<ElAvatar {...elAvatarProps.value} {...elAvatarEmits.value} class=\"fa-avatar\" src={state.src}>\n\t\t\t\t{slots.default && slots.default({ src: state.src })}\n\t\t\t</ElAvatar>\n\t\t));\n\n\t\treturn useExpose(expose, {\n\t\t\t/** @description 图片路径 */\n\t\t\tsrc: state.src,\n\t\t});\n\t},\n});\n"],"names":["faAvatarProps","avatarProps","icon","type","definePropType","String","Object","Function","default","Picture","base64","Boolean","original","normal","small","thumb","faAvatarEmits","avatarEmits","Avatar","name","props","emits","slots","makeSlots","setup","attrs","emit","expose","state","reactive","src","computed","elAvatarProps","useProps","elAvatarEmits","useEmits","useRender","_createVNode","ElAvatar","_mergeProps","value","class","useExpose"],"mappings":"iOAMaA,EAAgB,IACzBC,EAAAA,YAEHC,KAAM,CACLC,KAAMC,EAAAA,eAAmC,CAACC,OAAQC,OAAQC,WAC1DC,QAASA,IAA0BC,EAAAA,SAGpCC,OAAQC,QAERC,SAAUD,QAEVE,OAAQF,QAERG,MAAOH,QAEPI,MAAOJ,SAGKK,EAAgB,IACzBC,EAAAA,aAQJC,oBAA+B,CAC9BC,KAAM,WACNC,MAAOpB,EACPqB,MAAOL,EACPM,MAAOC,EAAAA,YACPC,KAAAA,CAAMJ,GAAOK,MAAEA,EAAAA,MAAOH,EAAAA,KAAOI,EAAAA,OAAMC,IAClC,MAAMC,EAAQC,EAAAA,SAAS,CACtBC,IAAKC,EAAAA,SAAS,KACb,GAAKX,EAAMU,IACX,OAAIV,EAAMV,OACF,yBAAyBU,EAAMU,MAC5BV,EAAMR,SACTQ,EAAMU,IACHV,EAAMP,OACT,GAAGO,EAAMU,cACNV,EAAMN,MACT,GAAGM,EAAMU,cACNV,EAAML,MACT,GAAGK,EAAMU,kBAQbE,EAAgBC,EAAAA,SAASb,EAAOnB,EAAAA,YAAa,CAAC,QAC9CiC,EAAgBC,EAAAA,SAASlB,EAAAA,YAAaS,GAQ5C,OANAU,YAAU,IAAAC,EAAAA,YAAAC,WAAAC,EAAAA,WACKP,EAAcQ,MAAWN,EAAcM,MAAK,CAAAC,MAAA,YAAAX,IAAyBF,EAAME,MAAG,CAAAtB,QAAAA,IAAA,CAC1Fc,EAAMd,SAAWc,EAAMd,QAAQ,CAAEsB,IAAKF,EAAME,UAIxCY,EAAAA,UAAUf,EAAQ,CAExBG,IAAKF,EAAME,KAEb"}