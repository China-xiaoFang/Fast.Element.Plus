{"version":3,"file":"layoutGridItem.js","sources":["../../../../../packages/components/layoutGrid/src/layoutGridItem.tsx"],"sourcesContent":["import type { Ref } from \"vue\";\nimport { computed, defineComponent, inject, reactive, ref, watch } from \"vue\";\nimport type { FaLayoutGridBreakPoint } from \"@fast-element-plus/components/layoutGrid\";\nimport { definePropType, makeSlots, useRender } from \"@fast-element-plus/utils\";\nimport type { FaLayoutGridItemResponsive } from \"./layoutGrid.type\";\n\ntype FaLayoutGridItemSlots = {\n\t/** @description 默认内容插槽 */\n\tdefault: never;\n};\n\nexport default defineComponent({\n\tname: \"FaLayoutGridItem\",\n\tprops: {\n\t\t/** @description 偏移 */\n\t\toffset: { type: Number, default: 0 },\n\t\t/** @description 占位 */\n\t\tspan: { type: Number, default: 1 },\n\t\t/** @description 后缀 */\n\t\tsuffix: { type: Boolean, default: false },\n\t\t/** @description 响应式，小于480px屏幕配置 */\n\t\txs: {\n\t\t\ttype: definePropType<FaLayoutGridItemResponsive>(Object),\n\t\t},\n\t\t/** @description 响应式，平板竖屏配置 */\n\t\tsm: {\n\t\t\ttype: definePropType<FaLayoutGridItemResponsive>(Object),\n\t\t},\n\t\t/** @description 响应式，平板横屏配置 */\n\t\tmd: {\n\t\t\ttype: definePropType<FaLayoutGridItemResponsive>(Object),\n\t\t},\n\t\t/** @description 响应式，小型桌面配置 */\n\t\tlg: {\n\t\t\ttype: definePropType<FaLayoutGridItemResponsive>(Object),\n\t\t},\n\t\t/** @description 响应式，大型桌面配置 */\n\t\txl: {\n\t\t\ttype: definePropType<FaLayoutGridItemResponsive>(Object),\n\t\t},\n\t},\n\tslots: makeSlots<FaLayoutGridItemSlots>(),\n\tsetup(props, { attrs, slots, emit, expose }) {\n\t\tconst state = reactive({\n\t\t\tshow: true,\n\t\t});\n\n\t\tconst attrsObj = attrs as any;\n\n\t\t// 注入断点\n\t\tconst breakPoint = inject<Ref<FaLayoutGridBreakPoint>>(\"breakPoint\", ref(\"xl\"));\n\t\tconst shouldHiddenIndex = inject<Ref<number>>(\"shouldHiddenIndex\", ref(-1));\n\n\t\twatch(\n\t\t\t() => [shouldHiddenIndex.value, breakPoint.value],\n\t\t\t(n) => {\n\t\t\t\tif (~~attrsObj.index) {\n\t\t\t\t\tstate.show = !(n[0] !== -1 && parseInt(attrsObj.index) >= Number(n[0]));\n\t\t\t\t}\n\t\t\t},\n\t\t\t{ immediate: true }\n\t\t);\n\n\t\tconst gap = inject(\"gap\", 0);\n\t\tconst cols = inject<Ref<number>>(\"cols\", ref(5));\n\n\t\tconst style = computed(() => {\n\t\t\tconst breakPointObk = props[breakPoint.value] as FaLayoutGridItemResponsive;\n\t\t\tconst span = breakPointObk?.span ?? props.span;\n\t\t\tconst offset = breakPointObk?.offset ?? props.offset;\n\t\t\tif (props.suffix) {\n\t\t\t\treturn {\n\t\t\t\t\tgridColumnStart: cols.value - span - offset + 1,\n\t\t\t\t\tgridColumnEnd: `span ${span + offset}`,\n\t\t\t\t\tmarginLeft: offset !== 0 ? `calc(((100% + ${gap}px) / ${span + offset}) * ${offset})` : \"unset\",\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\treturn {\n\t\t\t\t\tgridColumn: `span ${span + offset > cols.value ? cols.value : span + offset}/span ${\n\t\t\t\t\t\tspan + offset > cols.value ? cols.value : span + offset\n\t\t\t\t\t}`,\n\t\t\t\t\tmarginLeft: offset !== 0 ? `calc(((100% + ${gap}px) / ${span + offset}) * ${offset})` : \"unset\",\n\t\t\t\t};\n\t\t\t}\n\t\t});\n\n\t\tuseRender(() => (\n\t\t\t<div style={style.value} vShow={state.show}>\n\t\t\t\t{slots.default && slots.default()}\n\t\t\t</div>\n\t\t));\n\t},\n});\n"],"names":["defineComponent","name","props","offset","type","Number","default","span","suffix","Boolean","xs","definePropType","Object","sm","md","lg","xl","slots","makeSlots","setup","attrs","emit","expose","state","reactive","show","attrsObj","breakPoint","inject","ref","shouldHiddenIndex","vue","watch","value","n","index","parseInt","immediate","gap","cols","style","computed","breakPointObk","gridColumnStart","gridColumnEnd","marginLeft","gridColumn","useRender","_withDirectives","_createVNode","createVNode","_vShow","vShow"],"mappings":"2SAWeA,oBAAgB,CAC9BC,KAAM,mBACNC,MAAO,CAENC,OAAQ,CAAEC,KAAMC,OAAQC,QAAS,GAEjCC,KAAM,CAAEH,KAAMC,OAAQC,QAAS,GAE/BE,OAAQ,CAAEJ,KAAMK,QAASH,SAAS,GAElCI,GAAI,CACHN,KAAMO,EAAcA,eAA6BC,SAGlDC,GAAI,CACHT,KAAMO,EAAcA,eAA6BC,SAGlDE,GAAI,CACHV,KAAMO,EAAcA,eAA6BC,SAGlDG,GAAI,CACHX,KAAMO,EAAcA,eAA6BC,SAGlDI,GAAI,CACHZ,KAAMO,EAAcA,eAA6BC,UAGnDK,MAAOC,EAAAA,YACPC,KAAAA,CAAMjB,GAAOkB,MAAEA,EAAOH,MAAAA,EAAAA,KAAOI,EAAAA,OAAMC,IAC5BC,MAAAA,EAAQC,EAAAA,SAAS,CACtBC,MAAM,IAGDC,EAAWN,EAGXO,EAAaC,EAAAA,OAAoC,aAAcC,EAAAA,IAAI,OACnEC,EAAoBF,EAAAA,OAAoB,oBAAqBC,EAAAA,SAE9DE,EAAAC,OACJ,IAAM,CAACF,EAAkBG,MAAON,EAAWM,SACpCC,MACAR,EAASS,QACdZ,EAAME,QAAkB,IAATS,EAAE,IAAaE,SAASV,EAASS,QAAU9B,OAAO6B,EAAE,KACpE,GAED,CAAEG,WAAW,IAGd,MAAMC,EAAMV,EAAAA,OAAO,MAAO,GACpBW,EAAOX,EAAAA,OAAoB,OAAQC,EAAAA,IAAI,IAEvCW,EAAQC,EAAAA,UAAS,KAChBC,MAAAA,EAAgBxC,EAAMyB,EAAWM,OACjC1B,GAAsBA,MAAfmC,OAAenC,EAAAA,EAAAA,OAAQL,EAAMK,KACpCJ,GAAwBA,MAAfuC,OAAevC,EAAAA,EAAAA,SAAUD,EAAMC,OAC9C,OAAID,EAAMM,OACF,CACNmC,gBAAiBJ,EAAKN,MAAQ1B,EAAOJ,EAAS,EAC9CyC,cAAe,QAAQrC,EAAOJ,IAC9B0C,WAAuB,IAAX1C,EAAe,iBAAiBmC,UAAY/B,EAAOJ,QAAaA,KAAY,SAGlF,CACN2C,WAAY,QAAQvC,EAAOJ,EAASoC,EAAKN,MAAQM,EAAKN,MAAQ1B,EAAOJ,UACpEI,EAAOJ,EAASoC,EAAKN,MAAQM,EAAKN,MAAQ1B,EAAOJ,IAElD0C,WAAuB,IAAX1C,EAAe,iBAAiBmC,UAAY/B,EAAOJ,QAAaA,KAAY,QAE1F,IAGD4C,EAAAA,WAAU,IAAAC,EAAAA,eAAAC,EAAAC,YAAA,MAAA,CAAAV,MACGA,EAAMP,OAAK,CACrBhB,EAAMX,SAAWW,EAAMX,YAAS,CAAA,CAAA6C,EAAAC,MADF7B,EAAME,SAIxC"}