{"version":3,"file":"layoutGridItem.js","sources":["../../../../../packages/components/layoutGrid/src/layoutGridItem.tsx"],"sourcesContent":["import { computed, defineComponent, inject, reactive, ref, watch } from \"vue\";\nimport { definePropType, makeSlots, useExpose, useRender } from \"@fast-china/utils\";\nimport type { FaLayoutGridItemResponsive } from \"./layoutGrid.type\";\nimport type { FaLayoutGridBreakPoint } from \"@fast-element-plus/components/layoutGrid\";\nimport type { Ref } from \"vue\";\n\ntype FaLayoutGridItemSlots = {\n\t/** @description 默认内容插槽 */\n\tdefault: never;\n};\n\nexport default defineComponent({\n\tname: \"FaLayoutGridItem\",\n\tprops: {\n\t\t/** @description 偏移 */\n\t\toffset: { type: Number, default: 0 },\n\t\t/** @description 占位 */\n\t\tspan: { type: Number, default: 1 },\n\t\t/** @description 后缀 */\n\t\tsuffix: { type: Boolean, default: false },\n\t\t/** @description 响应式，小于480px屏幕配置 */\n\t\txs: {\n\t\t\ttype: definePropType<FaLayoutGridItemResponsive>(Object),\n\t\t\tdefault: undefined as FaLayoutGridItemResponsive,\n\t\t},\n\t\t/** @description 响应式，平板竖屏配置 */\n\t\tsm: {\n\t\t\ttype: definePropType<FaLayoutGridItemResponsive>(Object),\n\t\t\tdefault: undefined as FaLayoutGridItemResponsive,\n\t\t},\n\t\t/** @description 响应式，平板横屏配置 */\n\t\tmd: {\n\t\t\ttype: definePropType<FaLayoutGridItemResponsive>(Object),\n\t\t\tdefault: undefined as FaLayoutGridItemResponsive,\n\t\t},\n\t\t/** @description 响应式，小型桌面配置 */\n\t\tlg: {\n\t\t\ttype: definePropType<FaLayoutGridItemResponsive>(Object),\n\t\t\tdefault: undefined as FaLayoutGridItemResponsive,\n\t\t},\n\t\t/** @description 响应式，大型桌面配置 */\n\t\txl: {\n\t\t\ttype: definePropType<FaLayoutGridItemResponsive>(Object),\n\t\t\tdefault: undefined as FaLayoutGridItemResponsive,\n\t\t},\n\t},\n\tslots: makeSlots<FaLayoutGridItemSlots>(),\n\tsetup(props, { attrs, slots, emit, expose }) {\n\t\tconst state = reactive({\n\t\t\tshow: true,\n\t\t});\n\n\t\tconst attrsObj = attrs as any;\n\n\t\t// 注入断点\n\t\tconst breakPoint = inject<Ref<FaLayoutGridBreakPoint>>(\"breakPoint\", ref(\"xl\"));\n\t\tconst shouldHiddenIndex = inject<Ref<number>>(\"shouldHiddenIndex\", ref(-1));\n\n\t\twatch(\n\t\t\t() => [shouldHiddenIndex.value, breakPoint.value],\n\t\t\t(n) => {\n\t\t\t\tif (~~attrsObj.index) {\n\t\t\t\t\tstate.show = !(n[0] !== -1 && parseInt(attrsObj.index) >= Number(n[0]));\n\t\t\t\t}\n\t\t\t},\n\t\t\t{ immediate: true }\n\t\t);\n\n\t\tconst gap = inject(\"gap\", 0);\n\t\tconst cols = inject<Ref<number>>(\"cols\", ref(5));\n\n\t\tconst style = computed(() => {\n\t\t\tconst breakPointObk = props[breakPoint.value] as FaLayoutGridItemResponsive;\n\t\t\tconst span = breakPointObk?.span ?? props.span;\n\t\t\tconst offset = breakPointObk?.offset ?? props.offset;\n\t\t\tif (props.suffix) {\n\t\t\t\treturn {\n\t\t\t\t\tgridColumnStart: cols.value - span - offset + 1,\n\t\t\t\t\tgridColumnEnd: `span ${span + offset}`,\n\t\t\t\t\tmarginLeft: offset !== 0 ? `calc(((100% + ${gap}px) / ${span + offset}) * ${offset})` : \"unset\",\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\treturn {\n\t\t\t\t\tgridColumn: `span ${span + offset > cols.value ? cols.value : span + offset}/span ${\n\t\t\t\t\t\tspan + offset > cols.value ? cols.value : span + offset\n\t\t\t\t\t}`,\n\t\t\t\t\tmarginLeft: offset !== 0 ? `calc(((100% + ${gap}px) / ${span + offset}) * ${offset})` : \"unset\",\n\t\t\t\t};\n\t\t\t}\n\t\t});\n\n\t\tuseRender(() => (\n\t\t\t<div style={style.value} vShow={state.show}>\n\t\t\t\t{slots.default && slots.default()}\n\t\t\t</div>\n\t\t));\n\n\t\treturn useExpose(expose, {\n\t\t\tshow: state.show,\n\t\t});\n\t},\n});\n"],"names":["LayoutGridItem","name","props","offset","type","Number","default","span","suffix","Boolean","xs","definePropType","Object","undefined","sm","md","lg","xl","slots","makeSlots","setup","attrs","emit","expose","state","reactive","show","attrsObj","breakPoint","inject","ref","shouldHiddenIndex","watch","value","n","index","parseInt","immediate","gap","cols","style","computed","breakPointObk","gridColumnStart","gridColumnEnd","marginLeft","gridColumn","useRender","_withDirectives","_createVNode","_vShow","useExpose"],"mappings":"kKAWAA,oBAA+B,CAC9BC,KAAM,mBACNC,MAAO,CAENC,OAAQ,CAAEC,KAAMC,OAAQC,QAAS,GAEjCC,KAAM,CAAEH,KAAMC,OAAQC,QAAS,GAE/BE,OAAQ,CAAEJ,KAAMK,QAASH,SAAS,GAElCI,GAAI,CACHN,KAAMO,EAAAA,eAA2CC,QACjDN,aAASO,GAGVC,GAAI,CACHV,KAAMO,EAAAA,eAA2CC,QACjDN,aAASO,GAGVE,GAAI,CACHX,KAAMO,EAAAA,eAA2CC,QACjDN,aAASO,GAGVG,GAAI,CACHZ,KAAMO,EAAAA,eAA2CC,QACjDN,aAASO,GAGVI,GAAI,CACHb,KAAMO,EAAAA,eAA2CC,QACjDN,aAASO,IAGXK,MAAOC,EAAAA,YACPC,KAAAA,CAAMlB,GAAOmB,MAAEA,EAAAA,MAAOH,EAAAA,KAAOI,EAAAA,OAAMC,IAClC,MAAMC,EAAQC,EAAAA,SAAS,CACtBC,MAAM,IAGDC,EAAWN,EAGXO,EAAaC,EAAAA,OAAoC,aAAcC,EAAAA,IAAI,OACnEC,EAAoBF,EAAAA,OAAoB,oBAAqBC,EAAAA,SAEnEE,EAAAA,MACC,IAAM,CAACD,EAAkBE,MAAOL,EAAWK,OAC1CC,MACMP,EAASQ,QACdX,EAAME,QAAkB,IAATQ,EAAE,IAAaE,SAAST,EAASQ,QAAU9B,OAAO6B,EAAE,OAGrE,CAAEG,WAAW,IAGd,MAAMC,EAAMT,EAAAA,OAAO,MAAO,GACpBU,EAAOV,EAAAA,OAAoB,OAAQC,EAAAA,IAAI,IAEvCU,EAAQC,EAAAA,SAAS,KACtB,MAAMC,EAAgBxC,EAAM0B,EAAWK,OACjC1B,GAAOmC,MAAAA,OAAAA,EAAAA,EAAenC,OAAQL,EAAMK,KACpCJ,GAASuC,MAAAA,OAAAA,EAAAA,EAAevC,SAAUD,EAAMC,OAC9C,OAAID,EAAMM,OACF,CACNmC,gBAAiBJ,EAAKN,MAAQ1B,EAAOJ,EAAS,EAC9CyC,cAAe,QAAQrC,EAAOJ,IAC9B0C,WAAuB,IAAX1C,EAAe,iBAAiBmC,UAAY/B,EAAOJ,QAAaA,KAAY,SAGlF,CACN2C,WAAY,QAAQvC,EAAOJ,EAASoC,EAAKN,MAAQM,EAAKN,MAAQ1B,EAAOJ,UACpEI,EAAOJ,EAASoC,EAAKN,MAAQM,EAAKN,MAAQ1B,EAAOJ,IAElD0C,WAAuB,IAAX1C,EAAe,iBAAiBmC,UAAY/B,EAAOJ,QAAaA,KAAY,WAW3F,OANA4C,EAAAA,UAAU,IAAAC,EAAAA,eAAAC,EAAAA,YAAA,MAAA,CAAAT,MACGA,EAAMP,OAAK,CACrBf,EAAMZ,SAAWY,EAAMZ,YAAS,CAAA,CAAA4C,EAAAA,MADF1B,EAAME,SAKhCyB,EAAAA,UAAU5B,EAAQ,CACxBG,KAAMF,EAAME,MAEd"}