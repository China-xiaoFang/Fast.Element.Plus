"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),i=require("element-plus"),l=require("../../icon/index.js"),o=require("@fast-china/utils"),n=require("@vueuse/core"),t=require("lodash-unified"),s=e.defineComponent({name:"FaContextMenu",props:{data:{type:o.definePropType(Array),default:()=>[]}},emits:{click:(e,i)=>e instanceof MouseEvent&&t.isObject(i)},setup(t,{emit:s,expose:a}){const u=i.useGlobalSize(),d=e.reactive({visible:!1,axis:{x:0,y:0}}),r=()=>{d.visible=!1};return e.onMounted(()=>{n.useEventListener(document,"click",r)}),o.useRender(()=>e.createVNode(e.Transition,{name:"el-zoom-in-center"},{default:()=>[e.withDirectives(e.createVNode("div",{class:["fa-context-menu",`fa-context-menu-${u.value}`,"el-popper el-dropdown__popper"],style:{top:`${d.axis.y+5}px`,left:`${d.axis.x+14}px`},key:Math.random()},[e.createVNode("ul",{class:"el-dropdown-menu"},[t.data.filter(e=>!e.hide).map(i=>e.createVNode("li",{class:["el-dropdown-menu__item",!0===(null==i?void 0:i.disabled)?"is-disabled":""],tabIndex:"-1",onClick:e=>{((e,i)=>{(null==i?void 0:i.disabled)||((null==i?void 0:i.click)&&i.click(e,i),s("click",e,i))})(e,i)}},[(null==i?void 0:i.icon)?e.createVNode(l.FaIcon,{name:null==i?void 0:i.icon},null):null,e.createVNode("span",null,[i.label])]))])]),[[e.vShow,d.visible]])]})),o.useExpose(a,{visible:e.computed(()=>d.visible),open:(e={x:0,y:0})=>{d.axis=e,d.visible=!0},close:r})}});exports.default=s;
//# sourceMappingURL=contextMenu.js.map
