"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),o=require("element-plus"),t=require("@element-plus/icons-vue");require("../../../hooks/index.js");const i=require("@fast-china/utils"),n=require("lodash-unified"),a=require("../../../hooks/use-overlay/index.js"),s={...o.buttonProps,loadingIcon:{type:i.definePropType([String,Object,Function]),default:()=>t.Eleme},disabledLoading:Boolean},d={...o.buttonEmits,click:(e,o=()=>{})=>e instanceof MouseEvent&&n.isFunction(o)},l=e.defineComponent({name:"FaButton",props:s,emits:d,slots:i.makeSlots(),setup(t,{attrs:n,slots:s,emit:d,expose:l}){const u=e.reactive({loading:!1}),r=e.ref(),c=()=>{u.loading=!0,a.useOverlay.show(0)},p=()=>{u.loading=!1,a.useOverlay.hide()};e.watch(()=>t.loading,e=>{t.disabledLoading||(e?c():p())},{immediate:!0});const g=i.useProps(t,o.buttonProps,["loading"]);return i.useRender(()=>e.createVNode(o.ElButton,e.mergeProps(g.value,{ref:r,class:"fa-button",loading:u.loading,onClick:e.withModifiers(e=>(e=>{t.disabledLoading?d("click",e):(c(),d("click",e,p))})(e),["prevent"])}),{default:()=>s.default&&s.default(),...s.loading&&{loading:()=>s.loading()},...s.icon&&{icon:()=>s.icon()}})),i.useExpose(l,{ref:e.computed(()=>r.value?.ref),size:e.computed(()=>r.value?.size),type:e.computed(()=>r.value?.type),disabled:e.computed(()=>r.value?.disabled),shouldAddSpace:e.computed(()=>r.value?.shouldAddSpace),loading:e.computed(()=>u.loading),doLoading:e=>{u.loading=!0,i.execFunction(e).then().catch(e=>{i.consoleError("FaButton",e)}).finally(()=>{u.loading=!1})}})}});exports.default=l,exports.faButtonEmits=d,exports.faButtonProps=s;
//# sourceMappingURL=button.js.map
