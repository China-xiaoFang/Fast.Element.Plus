"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),o=require("@element-plus/icons-vue");require("../../../hooks/index.js");const t=require("@fast-china/utils"),i=require("element-plus"),n=require("lodash-unified"),l=require("../../../hooks/use-overlay/index.js"),u={...i.buttonProps,loadingIcon:{type:t.definePropType([String,Object,Function]),default:()=>o.Eleme},disabledLoading:Boolean},a={...i.buttonEmits,click:(e,o=()=>{})=>e instanceof MouseEvent&&n.isFunction(o)},d=e.defineComponent({name:"FaButton",props:u,emits:a,slots:t.makeSlots(),setup(o,{attrs:n,slots:u,emit:a,expose:d}){const s=e.reactive({loading:!1}),r=e.ref(),c=()=>{s.loading=!0,l.useOverlay.show(0)},p=()=>{s.loading=!1,l.useOverlay.hide()};e.watch(()=>o.loading,e=>{o.disabledLoading||(e?c():p())},{immediate:!0});const v=t.useProps(o,i.buttonProps,["loading"]);return t.useRender(()=>e.createVNode(i.ElButton,e.mergeProps(v.value,{ref:r,class:"fa-button",loading:s.loading,onClick:e.withModifiers(e=>(e=>{o.disabledLoading?a("click",e):(c(),a("click",e,p))})(e),["prevent"])}),{default:()=>u.default&&u.default(),...u.loading&&{loading:()=>u.loading()},...u.icon&&{icon:()=>u.icon()}})),t.useExpose(d,{ref:e.computed(()=>{var e;return null==(e=r.value)?void 0:e.ref}),size:e.computed(()=>{var e;return null==(e=r.value)?void 0:e.size}),type:e.computed(()=>{var e;return null==(e=r.value)?void 0:e.type}),disabled:e.computed(()=>{var e;return null==(e=r.value)?void 0:e.disabled}),shouldAddSpace:e.computed(()=>{var e;return null==(e=r.value)?void 0:e.shouldAddSpace}),loading:e.computed(()=>s.loading)})}});exports.default=d,exports.faButtonEmits=a,exports.faButtonProps=u;
//# sourceMappingURL=button.js.map
